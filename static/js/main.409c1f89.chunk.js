(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t){},156:function(e,t,n){e.exports=n(276)},161:function(e,t,n){},180:function(e,t,n){},274:function(e,t){},275:function(e,t){},276:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"geolocation",function(){return dn}),n.d(r,"survey",function(){return bn}),n.d(r,"gapiClient",function(){return mn}),n.d(r,"googleappdata",function(){return On}),n.d(r,"googlesheets",function(){return gn}),n.d(r,"serialize",function(){return jn});var a={};n.r(a),n.d(a,"init",function(){return Qr}),n.d(a,"showDroneQRScanner",function(){return Ur}),n.d(a,"hideDroneQRScanner",function(){return Vr}),n.d(a,"showSensorQRScanner",function(){return Mr}),n.d(a,"hideSensorQRScanner",function(){return Lr}),n.d(a,"showNavigation",function(){return Fr}),n.d(a,"hideNavigation",function(){return Wr}),n.d(a,"setSurveyData",function(){return Br}),n.d(a,"setAnswer",function(){return Hr}),n.d(a,"setSurveyPage",function(){return zr}),n.d(a,"setPages",function(){return $r}),n.d(a,"goNextPage",function(){return Gr}),n.d(a,"goPreviousPage",function(){return _r}),n.d(a,"completeSurvey",function(){return Jr}),n.d(a,"setCurrentLocation",function(){return Yr}),n.d(a,"loadappdata",function(){return Kr}),n.d(a,"login",function(){return Xr}),n.d(a,"logout",function(){return Zr}),n.d(a,"disconnectGoogle",function(){return ea}),n.d(a,"createSheet",function(){return ta}),n.d(a,"submitResults",function(){return na}),n.d(a,"confirmSubmit",function(){return ra}),n.d(a,"setDebugMenuOpen",function(){return aa}),n.d(a,"autofill",function(){return oa});var o={};n.r(o),n.d(o,"default",function(){return ca});var c={};n.r(c),n.d(c,"default",function(){return ua});var u={};n.r(u),n.d(u,"default",function(){return ia});var i={};n.r(i),n.d(i,"default",function(){return sa});var s={};n.r(s),n.d(s,"default",function(){return la});var l={};n.r(l),n.d(l,"default",function(){return pa});var p={};n.r(p),n.d(p,"default",function(){return fa});var f=n(0),d=n.n(f),b=n(15),m=n.n(b),v=(n(161),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function O(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var h=n(39),g=n(34),j=(n(279),n(4)),y=n(49),w=n(82),x=n(51),S=n(50),E=n(52),k=n(40),P=n(3),C=n(9),R=n(342),N=n(318),q=n(319),D=n(322),A=n(323),I=n(320),T=n(131),Q=n.n(T),U=n(343),V=n(143),M=n.n(V),L=n(142),F=n.n(L),W=n(96),B=n.n(W),H=n(334),z=n(278),$=n(341),G=n(130),_=n.n(G),J=n(340),Y=n(118),K=n.n(Y),X=n(119),Z=n.n(X),ee=(n(180),n(313)),te=n(124),ne=n.n(te),re=n(120),ae=n.n(re);var oe=Object(g.connect)({},function(e){return d.a.createElement(ee.a,{fullScreen:!0,open:e.open},d.a.createElement(N.a,null,d.a.createElement(q.a,null,d.a.createElement(I.a,{color:"inherit",onClick:e.onClose,"aria-label":"Close"},d.a.createElement(ne.a,null)),d.a.createElement(D.a,{variant:"h6",color:"inherit"},"Scan QR code"))),d.a.createElement(ae.a,{style:{width:"100%"},onScan:function(t){t&&(e.onData(t),e.onClose())}}))}),ce=n(12),ue=n.n(ce),ie=n(24),se=n(147),le=n(125),pe=n.n(le),fe=n(11),de=n(57),be=(n(216),n(126)),me=n.n(be),ve={model:null};function Oe(){var e=Object(j.a)(["autofill"]);return Oe=function(){return e},e}function he(){var e=Object(j.a)(["setPages"]);return he=function(){return e},e}function ge(){var e=Object(j.a)(["setSurveyPage"]);return ge=function(){return e},e}function je(){var e=Object(j.a)(["setSurveyData"]);return je=function(){return e},e}function ye(){var e=Object(j.a)(["surveyData"]);return ye=function(){return e},e}function we(){var e=Object(j.a)(["initSurvey"]);return we=function(){return e},e}function xe(){var e=Object(j.a)(["questions"]);return xe=function(){return e},e}function Se(){var e=Object(j.a)(["",""]);return Se=function(){return e},e}function Ee(){var e=Object(j.a)(["pageNum"]);return Ee=function(){return e},e}function ke(){var e=Object(j.a)(["surveyData"]);return ke=function(){return e},e}function Pe(){var e=Object(j.a)(["pageNum"]);return Pe=function(){return e},e}function Ce(){var e=Object(j.a)(["pageNum"]);return Ce=function(){return e},e}function Re(){var e=Object(j.a)(["surveyData"]);return Re=function(){return e},e}de.JsonObject.metaData.addProperty("question",{name:"cerebralbutton"}),de.JsonObject.metaData.addProperty("question",{name:"autofill",default:!1});var Ne=new me.a,qe=function(e){function t(){return Object(y.a)(this,t),Object(x.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(w.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.get,r=t.theme.palette,a=de.StylesManager.ThemeColors.default;a["$main-color"]=r.primary.main,a["$main-hover-color"]=r.primary.dark,a["$text-color"]=r.text.primary,a["$header-color"]=r.secondary.main,a["$border-color"]=r.divider,a["$header-background-color"]=r.secondary.main,a["$body-background-color"]=r.background.paper,a["$body-container-background-color"]=r.background.paper,a["$inputs-background-color"]=r.background.default,a["$error-color"]=r.error.main,a["$error-background-color"]=r.error.light,de.StylesManager.applyTheme("default"),this.model=new de.Model(this.props.questions),ve.model=this.model;var o=n(Object(P.state)(Re()));o&&(this.model.data=o);var c=n(Object(P.state)(Ce()));void 0!==c&&(this.model.currentPageNo=c),this.props.reaction("changePage",{pageNum:Object(P.state)(Pe())},function(t){var n=t.pageNum;return e.model.currentPageNo=n}),this.props.reaction("changeData",{data:Object(P.state)(ke())},function(t){var n=t.data;return e.model.data=n}),this.updatePages(this.model),this.props.setData({data:this.model.data})}},{key:"updatePages",value:function(e){this.props.setPages({pages:e.visiblePages.map(function(e){return{error:e.hasErrors(!1,!1),name:e.name,title:e.title}})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.get,r=Object(se.a)(t,["get"]);return d.a.createElement(de.Survey,Object.assign({},r,{model:this.model,onCurrentPageChanged:function(e){n(Object(P.state)(Ee()))!==e.currentPageNo&&r.setPage({pageNum:e.currentPageNo})},onPageVisibleChanged:this.updatePages.bind(this),onPageAdded:this.updatePages.bind(this),onValueChanging:function(e,t){var n=t.value,r=t.question;r instanceof de.QuestionFileModel&&(n||[]).forEach(function(e,t){if(e&&e.content&&!e.converted){var n=new Image;n.src=e.content;var a=document.createElement("canvas");a.width=150,a.height=n.height*a.width/n.width;Ne.resize(n,a,{unsharpAmount:80,unsharpRadius:.6,unsharpThreshold:2}).then(function(){var n={name:e.name,content:a.toDataURL(),type:"image/png",converted:!0},o=r.value;r.value=[],o[t]=n,r.value=o})}})},onValueChanged:function(t,n){n.name,n.value,n.question;r.setData({data:t.data}),setTimeout(function(){return e.updatePages(t)})},completedHtml:pe.a.renderToString(r.completedHtml),onAfterRenderQuestion:function(){var e=Object(ie.a)(ue.a.mark(function e(t,a){var o,c,u,i,s;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.question,c=a.htmlElement,u=o.autofill,void 0!==o.value||!u){e.next=13;break}if("function"!==typeof u){e.next=9;break}return e.next=6,u(o);case 6:o.value=e.sent,e.next=13;break;case 9:return e.next=11,r.autofill({question:o.name,autofill:u});case 11:i=e.sent,o.value=i&&i.answer;case 13:o.cerebralbutton&&(s=n(Object(P.sequences)(Se(),o.cerebralbutton)),m.a.render(d.a.createElement(A.a,{onClick:function(){return s()}},o.title),c));case 14:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}))}}]),t}(f.Component),De=Object(g.connect)({questions:Object(P.state)(xe()),init:Object(P.sequences)(we()),data:Object(P.state)(ye()),setData:Object(P.sequences)(je()),setPage:Object(P.sequences)(ge()),setPages:Object(P.sequences)(he()),autofill:Object(P.sequences)(Oe())},Object(fe.a)(qe)),Ae=n(127),Ie=n.n(Ae),Te=n(128),Qe=n.n(Te),Ue=n(115),Ve=n(345),Me=n(338),Le=n(325),Fe=n(324),We=n(344),Be=n(326),He=n(327);function ze(){var e=Object(j.a)(["pageNum"]);return ze=function(){return e},e}function $e(){var e=Object(j.a)(["pages"]);return $e=function(){return e},e}function Ge(){var e=Object(j.a)(["setSurveyPage"]);return Ge=function(){return e},e}function _e(){var e=Object(j.a)(["hideNavigation"]);return _e=function(){return e},e}function Je(){var e=Object(j.a)(["showNavigation"]);return Je=function(){return e},e}function Ye(){var e=Object(j.a)(["navigationOpen"]);return Ye=function(){return e},e}var Ke=Object(g.connect)({navigationOpen:Object(P.state)(Ye()),showNavigation:Object(P.sequences)(Je()),hideNavigation:Object(P.sequences)(_e()),setSurveyPage:Object(P.sequences)(Ge()),pages:Object(P.state)($e()),pageNum:Object(P.state)(ze())},function(e){var t=e.classes,n=void 0===t?{}:t,r=d.a.createElement("div",null,d.a.createElement(q.a,null,d.a.createElement(D.a,{variant:"h6",color:"primary",align:"center",className:n.grow,noWrap:!0},"Pages")),d.a.createElement(Fe.a,null),d.a.createElement(Le.a,null,e.pages.map(function(t,n){var r=t.name,a=t.title,o=t.error;return d.a.createElement(We.a,{key:r,button:!0,selected:n===e.pageNum,className:o?"page-err":"page-complete",onClick:function(){return e.setSurveyPage({pageNum:n})}},d.a.createElement(Be.a,null,o?d.a.createElement(Ie.a,{color:"error"}):d.a.createElement(Qe.a,null)),d.a.createElement(He.a,{primary:a,secondary:o?"Incomplete":"Complete",secondaryTypographyProps:{color:o?"error":"textSecondary"}}))})));return d.a.createElement("nav",{className:n.drawer},d.a.createElement(Me.a,Object.assign({},e.permScreens,{implementation:"js"}),d.a.createElement(Ve.a,{open:e.navigationOpen,onOpen:function(){return e.showNavigation()},onClose:function(){return e.hideNavigation()},classes:{paper:n.drawerPaper}},r)),d.a.createElement(Me.a,Object.assign({},e.tempScreens,{implementation:"js"}),d.a.createElement(Ue.a,{variant:"permanent",open:!0,classes:{paper:n.drawerPaper}},r)))}),Xe=n(332),Ze=n(329),et=n(330),tt=n(328),nt=n(331);function rt(){var e=Object(j.a)(["confirmSubmit"]);return rt=function(){return e},e}function at(){var e=Object(j.a)(["resultsUrl"]);return at=function(){return e},e}function ot(){var e=Object(j.a)(["confirmSubmitOpen"]);return ot=function(){return e},e}var ct=Object(g.connect)({open:Object(P.state)(ot()),resultsUrl:Object(P.state)(at()),confirm:Object(P.sequences)(rt())},function(e){var t=e.confirm;return d.a.createElement(ee.a,{open:e.open,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},d.a.createElement(tt.a,{id:"alert-dialog-title"},"Successfully submitted metadata"),d.a.createElement(Ze.a,null,d.a.createElement(et.a,{id:"alert-dialog-description"},"Your metadata have been uploaded ",d.a.createElement(nt.a,{target:"_blank",href:e.resultsUrl},"here."))),d.a.createElement(Xe.a,null,d.a.createElement(A.a,{onClick:t,color:"primary",autoFocus:!0},"OK")))}),ut=n(339),it=n(333);function st(){var e=Object(j.a)(["disconnectGoogle"]);return st=function(){return e},e}function lt(){var e=Object(j.a)(["submitResults"]);return lt=function(){return e},e}function pt(){var e=Object(j.a)(["setDebugMenuOpen"]);return pt=function(){return e},e}function ft(){var e=Object(j.a)(["debugMenuOpen"]);return ft=function(){return e},e}var dt=Object(g.connect)({open:Object(P.state)(ft()),setState:Object(P.sequences)(pt()),submitResults:Object(P.sequences)(lt()),disconnect:Object(P.sequences)(st())},function(e){var t=d.a.createElement(A.a,{"aria-owns":"debug-menu","aria-haspopup":"true",onClick:function(){return e.setState({open:!0})},color:"inherit"},"v0.0.1-4-gde34726");return d.a.createElement("div",null,t,d.a.createElement(ut.a,{id:"debug-menu",open:e.open||!1,onClose:function(){return e.setState({open:!1})}},d.a.createElement(it.a,{onClick:function(){return e.submitResults()}},"Force Submit"),d.a.createElement(it.a,{onClick:function(){return e.disconnect()}},"Disconnect Google")))});function bt(){var e=Object(j.a)(["submitting"]);return bt=function(){return e},e}function mt(){var e=Object(j.a)(["submitResults"]);return mt=function(){return e},e}function vt(){var e=Object(j.a)(["createSheet"]);return vt=function(){return e},e}function Ot(){var e=Object(j.a)(["google"]);return Ot=function(){return e},e}function ht(){var e=Object(j.a)(["logout"]);return ht=function(){return e},e}function gt(){var e=Object(j.a)(["login"]);return gt=function(){return e},e}function jt(){var e=Object(j.a)(["init"]);return jt=function(){return e},e}function yt(){var e=Object(j.a)(["hideSensorQRScanner"]);return yt=function(){return e},e}function wt(){var e=Object(j.a)(["hideDroneQRScanner"]);return wt=function(){return e},e}function xt(){var e=Object(j.a)(["showSensorQRScanner"]);return xt=function(){return e},e}function St(){var e=Object(j.a)(["showDroneQRScanner"]);return St=function(){return e},e}function Et(){var e=Object(j.a)(["sensorQRScannerActive"]);return Et=function(){return e},e}function kt(){var e=Object(j.a)(["droneQRScannerActive"]);return kt=function(){return e},e}function Pt(){var e=Object(j.a)(["questions"]);return Pt=function(){return e},e}function Ct(){var e=Object(j.a)(["completeSurvey"]);return Ct=function(){return e},e}function Rt(){var e=Object(j.a)(["goPreviousPage"]);return Rt=function(){return e},e}function Nt(){var e=Object(j.a)(["goNextPage"]);return Nt=function(){return e},e}function qt(){var e=Object(j.a)(["pageNum"]);return qt=function(){return e},e}function Dt(){var e=Object(j.a)(["pages"]);return Dt=function(){return e},e}function At(){var e=Object(j.a)(["setSurveyPage"]);return At=function(){return e},e}function It(){var e=Object(j.a)(["hideNavigation"]);return It=function(){return e},e}function Tt(){var e=Object(j.a)(["showNavigation"]);return Tt=function(){return e},e}function Qt(){var e=Object(j.a)(["navigationOpen"]);return Qt=function(){return e},e}var Ut=Z.a.parse(window.location.search),Vt=Object(z.a)({typography:{useNextVariants:!0},palette:{type:Ut.theme||"dark",primary:_.a}});window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),void 0!==Ut.install&&e.prompt()});var Mt=function(e){function t(){return Object(y.a)(this,t),Object(x.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(w.a)(t,[{key:"componentWillMount",value:function(){this.props.init()}},{key:"render",value:function(){var e=this.props,t=e.classes;return d.a.createElement(K.a,null,d.a.createElement($.a,{theme:Vt},d.a.createElement(d.a.Fragment,null,d.a.createElement(R.a,null),d.a.createElement("div",{className:t.root},d.a.createElement(Ke,{classes:t,permScreens:{smUp:!0},tempScreens:{xsDown:!0}}),d.a.createElement(N.a,{position:"fixed",className:t.appBar},d.a.createElement(q.a,null,void 0!==Ut.debug&&d.a.createElement(dt,null),d.a.createElement(I.a,{className:t.menuButton,color:"inherit",onClick:function(){return e.showNavigation()},"aria-label":"Pages"},d.a.createElement(Q.a,null)),d.a.createElement(A.a,{color:"inherit",disabled:e.submitting||e.pages.some(function(e){return e.error}),onClick:function(){return e.submit()}},"Submit",d.a.createElement(B.a,null)),d.a.createElement("div",{className:t.grow}),d.a.createElement("div",{className:"g-signin2","data-theme":"dark"}))),d.a.createElement(oe,{open:e.droneQRScannerActive,onClose:e.hideDroneQRScanner}),d.a.createElement(oe,{open:e.sensorQRScannerActive,onClose:e.hideSensorQRScanner}),d.a.createElement(ct,null),d.a.createElement("main",{className:t.content},d.a.createElement("div",{className:t.toolbar}),d.a.createElement(De,{isSinglePage:void 0!==Ut.singlePage,completedHtml:d.a.createElement("div",null,d.a.createElement(D.a,{color:"inherit"},"Submitting Metadata"),d.a.createElement(J.a,{p:4},d.a.createElement(H.a,{size:100}))),onComplete:function(t){t.data;return e.submitResults()}}),d.a.createElement("div",{className:t.toolbar})),d.a.createElement(N.a,{position:"fixed",className:t.bottomBar},d.a.createElement(U.a,{steps:e.pages.length,position:"static",activeStep:e.pageNum,className:t.mobileStepper,nextButton:e.pageNum===e.pages.length-1?d.a.createElement(A.a,{color:"primary",onClick:function(){return e.submit()}},"Sumbit",d.a.createElement(B.a,null)):d.a.createElement(A.a,{color:"primary",onClick:function(){return e.goNextPage()}},"Next",d.a.createElement(F.a,null)),backButton:d.a.createElement(A.a,{color:"primary",disabled:0===e.pageNum,onClick:function(){return e.goPreviousPage()}},d.a.createElement(M.a,null),"Previous")}))))))}}]),t}(f.Component),Lt=Object(g.connect)({navigationOpen:Object(P.state)(Qt()),showNavigation:Object(P.sequences)(Tt()),hideNavigation:Object(P.sequences)(It()),setSurveyPage:Object(P.sequences)(At()),pages:Object(P.state)(Dt()),pageNum:Object(P.state)(qt()),goNextPage:Object(P.sequences)(Nt()),goPreviousPage:Object(P.sequences)(Rt()),submit:Object(P.sequences)(Ct()),questions:Object(P.state)(Pt()),droneQRScannerActive:Object(P.state)(kt()),sensorQRScannerActive:Object(P.state)(Et()),showDroneQRScanner:Object(P.sequences)(St()),showSensorQRScanner:Object(P.sequences)(xt()),hideDroneQRScanner:Object(P.sequences)(wt()),hideSensorQRScanner:Object(P.sequences)(yt()),init:Object(P.sequences)(jt()),login:Object(P.sequences)(gt()),logout:Object(P.sequences)(ht()),google:Object(P.state)(Ot()),createSheet:Object(P.sequences)(vt()),submitResults:Object(P.sequences)(mt()),submitting:Object(P.state)(bt())},Object(C.a)(function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center"},content:{textAlign:"center",flexGrow:1,alignSelf:"center",maxWidth:800},appBar:Object(k.a)({top:0,bottom:"auto",marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),toolbar:e.mixins.toolbar,bottomBar:Object(k.a)({bottom:0,top:"auto",marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),grow:{flexGrow:1},menuButton:Object(k.a)({marginLeft:-12,marginRight:20},e.breakpoints.up("sm"),{display:"none"}),drawer:Object(k.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240}}})(Mt)),Ft=n(13),Wt=n(88),Bt=n.n(Wt);function Ht(){var e=Object(j.a)(["",".persistState"]);return Ht=function(){return e},e}function zt(){var e=Object(j.a)(["",""]);return zt=function(){return e},e}function $t(){var e=Object(j.a)(["initialized"]);return $t=function(){return e},e}function Gt(){var e=Object(j.a)(["val"]);return Gt=function(){return e},e}function _t(){var e=Object(j.a)(["",""]);return _t=function(){return e},e}function Jt(){var e=Object(j.a)(["val"]);return Jt=function(){return e},e}function Yt(){var e=Object(j.a)(["",""]);return Yt=function(){return e},e}function Kt(){var e=Object(j.a)(["val"]);return Kt=function(){return e},e}function Xt(){var e=Object(j.a)(["val"]);return Xt=function(){return e},e}function Zt(){var e=Object(j.a)(["initialized"]);return Zt=function(){return e},e}var en,tn=n(144),nn=n(89),rn=n.n(nn),an=n(145),on=n.n(an),cn=n(74),un=n.n(cn),sn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(x.a)(this,Object(S.a)(t).call(this,e))).name="GetLocationError",n}return Object(E.a)(t,e),t}(h.CerebralError),ln=function(e){function t(e){var n;Object(y.a)(this,t);var r=e;return e.result&&r.result.error&&(r=e.result.error),(n=Object(x.a)(this,Object(S.a)(t).call(this,r.message))).name="GAPIError",n.result=r,n}return Object(E.a)(t,e),t}(h.CerebralError),pn=function(e){function t(e,n,r){var a;return Object(y.a)(this,t),(a=Object(x.a)(this,Object(S.a)(t).call(this,'Error serializing column "'.concat(n,'" of row ').concat(e,": ").concat(r.message)))).name="DeserializeError",a.err=r,a}return Object(E.a)(t,e),t}(h.CerebralError),fn=function(e){function t(e,n,r){var a;return Object(y.a)(this,t),(a=Object(x.a)(this,Object(S.a)(t).call(this,'Error deserializing column "'.concat(n,'" of row ').concat(e,": ").concat(r.message)))).name="DeserializeError",a.err=r,a}return Object(E.a)(t,e),t}(h.CerebralError),dn={getCurrentLoc:function(){var e=Object(ie.a)(ue.a.mark(function e(){var t;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new rn.a(function(e,t){return navigator.geolocation.getCurrentPosition(e,t)}).then(function(e){return e.coords});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),e.t1=e.t0.code,e.next=1===e.t1?11:2===e.t1?13:3===e.t1?15:17;break;case 11:return t="Permission denied",e.abrupt("break",18);case 13:return t="Position unavailable",e.abrupt("break",18);case 15:return t="Timeout obtaining position",e.abrupt("break",18);case 17:t="Unknown error";case 18:throw new sn(t);case 19:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},bn={setAnswer:function(e,t){ve.model.setValue(e,t)},setPage:function(e){ve.model.currentPageNo=e},nextPage:function(){return ve.model.nextPage()},previousPage:function(){return ve.model.prevPage()},setData:function(e){ve.model.data=e},submit:function(){return ve.model.completeLastPage()}},mn={init:function(){var e=Object(ie.a)(ue.a.mark(function e(t){var n,r,a=this;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,r=t.logout,en=rn.a.resolve(on()()).tap(function(e){var t=e.load;return new rn.a(function(e,n){return t("client",{callback:e,onerror:n,timeout:1e4,ontimeout:n})})}).tap(function(e){return e.client.init({discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest","https://sheets.googleapis.com/$discovery/rest?version=v4"]})}).tap(function(e){var t=e.auth2.getAuthInstance(),o=function(e){if(e){var o=t.currentUser.get().getBasicProfile();n&&a.context.get(n)({name:o.getName()})}else r&&a.context.get(r)()};t.isSignedIn.listen(o),o(t.isSignedIn.get())}),e.next=4,en;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(ie.a)(ue.a.mark(function e(t){return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",en.tap(function(e){var n=e.auth2.getAuthInstance().currentUser.get();if(!n.hasGrantedScopes(t))return n.grant({scope:t})}).get("client"));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),disconnect:function(){var e=Object(ie.a)(ue.a.mark(function e(){return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en;case 2:e.sent.auth2.getAuthInstance().currentUser.get().disconnect();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},vn=["https://www.googleapis.com/auth/drive.appdata"].join(" "),On={getData:function(){var e=Object(ie.a)(ue.a.mark(function e(){var t,n,r,a;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.gapiClient.get(vn);case 2:return t=e.sent,n=t.drive,e.prev=4,e.next=7,n.files.list({spaces:"appDataFolder",q:"name='config.json'",fields:"files(id, appProperties)"});case 7:a=e.sent,r=a.result,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(4),new ln(e.t0);case 14:return e.abrupt("return",r.files[0]&&r.files[0].appProperties);case 15:case"end":return e.stop()}},e,this,[[4,11]])}));return function(){return e.apply(this,arguments)}}(),initData:function(){var e=Object(ie.a)(ue.a.mark(function e(t){var n,r,a,o,c,u;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,r=void 0===n?{}:n,e.next=3,this.context.gapiClient.get(vn);case 3:return a=e.sent,o=a.drive,e.prev=5,e.next=8,o.files.create({resource:{name:"config.json",mimeType:"application/json",parents:["appDataFolder"],appProperties:r}});case 8:return c=e.sent,u=c.result,e.abrupt("return",u);case 13:throw e.prev=13,e.t0=e.catch(5),new ln(e.t0);case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t){return e.apply(this,arguments)}}()},hn="https://www.googleapis.com/auth/drive.file",gn={createSheet:function(){var e=Object(ie.a)(ue.a.mark(function e(){var t,n,r,a,o;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.gapiClient.get(hn);case 2:return t=e.sent,n=t.sheets,r={title:"CONTxT metadata uploads"},e.prev=5,e.next=8,n.spreadsheets.create({properties:r});case 8:return a=e.sent,o=a.result,e.abrupt("return",o);case 13:throw e.prev=13,e.t0=e.catch(5),new ln(e.t0);case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(){return e.apply(this,arguments)}}(),getSheet:function(){var e=Object(ie.a)(ue.a.mark(function e(t){var n,r,a,o,c;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.gapiClient.get(hn);case 2:return n=e.sent,r=n.sheets,e.prev=4,e.next=7,r.spreadsheets.values.get({spreadsheetId:t,range:["Sheet1"]});case 7:o=e.sent,a=o.result,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(4),new ln(e.t0);case 14:if(a.values){e.next=16;break}return e.abrupt("return",[]);case 16:return c=un.a.utils.aoa_to_sheet(a.values),e.abrupt("return",un.a.utils.sheet_to_json(c));case 18:case"end":return e.stop()}},e,this,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),writeSheet:function(){var e=Object(ie.a)(ue.a.mark(function e(t,n){var r,a,o,c,u,i,s,l;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://docs.google.com/spreadsheets",e.next=3,this.context.gapiClient.get(hn);case 3:return a=e.sent,o=a.sheets,c=un.a.utils.json_to_sheet(n),u=un.a.utils.sheet_to_json(c,{header:1}),e.prev=7,e.next=10,o.spreadsheets.values.update({spreadsheetId:t,range:c["!ref"],valueInputOption:"USER_ENTERED",includeValuesInResponse:!1},{majorDimension:"ROWS",values:u});case 10:return i=e.sent,s=i.result,l=n.length+1,e.abrupt("return",Object(tn.a)({},s,{resultsUrl:"".concat(r,"/d/").concat(t,"#gid=0&range=").concat(l,":").concat(l)}));case 16:throw e.prev=16,e.t0=e.catch(7),new ln(e.t0);case 19:case"end":return e.stop()}},e,this,[[7,16]])}));return function(t,n){return e.apply(this,arguments)}}(),addRow:function(){var e=Object(ie.a)(ue.a.mark(function e(t,n,r){var a,o;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.gapiClient.get(hn);case 2:return a=e.sent,o=a.sheets,e.abrupt("return",o.spreadsheets.values.append({spreadsheetId:t,valueInputOption:"USER_ENTERED",insertDataOption:"INSERT_ROWS",includeValuesInResponse:!1},{majorDimension:"ROWS",values:[r]}));case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},jn={serialize:function(e){return e.map(function(e,t){var n={};return Object.keys(e).forEach(function(r){try{if("object"===typeof e[r]){if(e[r])n["$$"+r]=JSON.stringify(e[r])}else n[r]=e[r]}catch(a){throw new pn(t,r,a)}}),n})},deserialize:function(e){return e.map(function(e,t){var n={};return Object.keys(e).forEach(function(r){try{if(r.startsWith("$$")){if(e[r]){var a=r.substring(2);n[a]=JSON.parse(e[r])}}else n[r]=e[r]}catch(o){throw new fn(t+2,r,o)}}),n})}};function yn(e){return e.geolocation.getCurrentLoc().then(function(e){return{currentLoc:{latitude:e.latitude,longitude:e.longitude}}})}function wn(e){var t=e.survey,n=e.props;return t.setAnswer(n.question,n.answer)}function xn(){return(xn=Object(ie.a)(ue.a.mark(function e(t){var n,r;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gapiClient,r=t.props,e.abrupt("return",n.init(r));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Sn(){return(Sn=Object(ie.a)(ue.a.mark(function e(t){var n;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gapiClient,e.abrupt("return",n.disconnect());case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function En(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(ie.a)(ue.a.mark(function e(t){var n,r;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googlesheets,e.next=3,n.createSheet();case 3:return r=e.sent,e.abrupt("return",{sheet:r});case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Pn(){return(Pn=Object(ie.a)(ue.a.mark(function e(t){var n,r,a;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.serialize,r=t.props,a=r.results,e.abrupt("return",{results:n.serialize(a)});case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Cn(){return(Cn=Object(ie.a)(ue.a.mark(function e(t){var n,r,a;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.serialize,r=t.props,a=r.results,e.abrupt("return",{results:n.deserialize(a)});case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Rn(){return(Rn=Object(ie.a)(ue.a.mark(function e(t){var n,r,a,o;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googlesheets,r=t.props,a=r.resultsId,e.next=4,n.getSheet(a);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=[];case 7:return o=e.t0,e.abrupt("return",{results:o});case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Nn(){return(Nn=Object(ie.a)(ue.a.mark(function e(t){var n,r,a,o;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googlesheets,r=t.props,a=r.results,o=r.resultsId,e.abrupt("return",n.writeSheet(o,a));case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function qn(){return(qn=Object(ie.a)(ue.a.mark(function e(t){var n,r,a;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googleappdata,r=t.props,e.next=3,n.initData(r);case 3:return a=e.sent,e.abrupt("return",{result:a});case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Dn(){return(Dn=Object(ie.a)(ue.a.mark(function e(t){var n,r,a;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googleappdata,r=t.path,e.next=3,n.getData();case 3:if(!(a=e.sent)){e.next=8;break}return e.abrupt("return",r.found({body:a}));case 8:return e.abrupt("return",r.notfound());case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function An(){var e=Object(j.a)(["currentLoc.longitude"]);return An=function(){return e},e}function In(){var e=Object(j.a)(["answer"]);return In=function(){return e},e}function Tn(){var e=Object(j.a)(["currentLoc.latitude"]);return Tn=function(){return e},e}function Qn(){var e=Object(j.a)(["answer"]);return Qn=function(){return e},e}function Un(){var e=Object(j.a)(["loggedin.name"]);return Un=function(){return e},e}function Vn(){var e=Object(j.a)(["answer"]);return Vn=function(){return e},e}function Mn(){var e=Object(j.a)(["autofill"]);return Mn=function(){return e},e}function Ln(){var e=Object(j.a)(["open"]);return Ln=function(){return e},e}function Fn(){var e=Object(j.a)(["debugMenuOpen"]);return Fn=function(){return e},e}function Wn(){var e=Object(j.a)(["confirmSubmitOpen"]);return Wn=function(){return e},e}function Bn(){var e=Object(j.a)(["store.clear"]);return Bn=function(){return e},e}function Hn(){var e=Object(j.a)(["confirmSubmitOpen"]);return Hn=function(){return e},e}function zn(){var e=Object(j.a)(["resultsUrl"]);return zn=function(){return e},e}function $n(){var e=Object(j.a)(["resultsUrl"]);return $n=function(){return e},e}function Gn(){var e=Object(j.a)(["resultsId"]);return Gn=function(){return e},e}function _n(){var e=Object(j.a)(["resultsId"]);return _n=function(){return e},e}function Jn(){var e=Object(j.a)(["pastData"]);return Jn=function(){return e},e}function Yn(){var e=Object(j.a)(["results"]);return Yn=function(){return e},e}function Kn(){var e=Object(j.a)(["surveyData"]);return Kn=function(){return e},e}function Xn(){var e=Object(j.a)(["pastData"]);return Xn=function(){return e},e}function Zn(){var e=Object(j.a)(["loggedin"]);return Zn=function(){return e},e}function er(){var e=Object(j.a)(["submitting"]);return er=function(){return e},e}function tr(){var e=Object(j.a)(["pastData"]);return tr=function(){return e},e}function nr(){var e=Object(j.a)(["loggedin"]);return nr=function(){return e},e}function rr(){var e=Object(j.a)(["name"]);return rr=function(){return e},e}function ar(){var e=Object(j.a)(["loggedin"]);return ar=function(){return e},e}function or(){var e=Object(j.a)(["results"]);return or=function(){return e},e}function cr(){var e=Object(j.a)(["pastData"]);return cr=function(){return e},e}function ur(){var e=Object(j.a)(["resultsId"]);return ur=function(){return e},e}function ir(){var e=Object(j.a)(["resultsId"]);return ir=function(){return e},e}function sr(){var e=Object(j.a)(["body.resultsId"]);return sr=function(){return e},e}function lr(){var e=Object(j.a)(["resultsId"]);return lr=function(){return e},e}function pr(){var e=Object(j.a)(["sheet.spreadsheetId"]);return pr=function(){return e},e}function fr(){var e=Object(j.a)(["body.resultsId"]);return fr=function(){return e},e}function dr(){var e=Object(j.a)(["body"]);return dr=function(){return e},e}function br(){var e=Object(j.a)(["locations"]);return br=function(){return e},e}function mr(){var e=Object(j.a)(["answer"]);return mr=function(){return e},e}function vr(){var e=Object(j.a)(["question"]);return vr=function(){return e},e}function Or(){var e=Object(j.a)(["surveyData.locations"]);return Or=function(){return e},e}function hr(){var e=Object(j.a)(["locations"]);return hr=function(){return e},e}function gr(){var e=Object(j.a)(["pages"]);return gr=function(){return e},e}function jr(){var e=Object(j.a)(["pages"]);return jr=function(){return e},e}function yr(){var e=Object(j.a)(["pageNum"]);return yr=function(){return e},e}function wr(){var e=Object(j.a)(["pageNum"]);return wr=function(){return e},e}function xr(){var e=Object(j.a)(["data"]);return xr=function(){return e},e}function Sr(){var e=Object(j.a)(["surveyData"]);return Sr=function(){return e},e}function Er(){var e=Object(j.a)(["navigationOpen"]);return Er=function(){return e},e}function kr(){var e=Object(j.a)(["navigationOpen"]);return kr=function(){return e},e}function Pr(){var e=Object(j.a)(["sensorQRScannerActive"]);return Pr=function(){return e},e}function Cr(){var e=Object(j.a)(["sensorQRScannerActive"]);return Cr=function(){return e},e}function Rr(){var e=Object(j.a)(["droneQRScannerActive"]);return Rr=function(){return e},e}function Nr(){var e=Object(j.a)(["droneQRScannerActive"]);return Nr=function(){return e},e}function qr(){var e=Object(j.a)(["store.init"]);return qr=function(){return e},e}function Dr(){var e=Object(j.a)(["logout"]);return Dr=function(){return e},e}function Ar(){var e=Object(j.a)(["logout"]);return Ar=function(){return e},e}function Ir(){var e=Object(j.a)(["login"]);return Ir=function(){return e},e}function Tr(){var e=Object(j.a)(["login"]);return Tr=function(){return e},e}var Qr=[Object(Ft.e)(Object(P.props)(Tr()),Object(P.sequences)(Ir())),Object(Ft.e)(Object(P.props)(Ar()),Object(P.sequences)(Dr())),function(e){return xn.apply(this,arguments)},function(e){return(0,e.get)(Object(P.sequences)(qr()))()}],Ur=[Object(Ft.e)(Object(P.state)(Nr()),!0)],Vr=[Object(Ft.e)(Object(P.state)(Rr()),!1)],Mr=[Object(Ft.e)(Object(P.state)(Cr()),!0)],Lr=[Object(Ft.e)(Object(P.state)(Pr()),!1)],Fr=[Object(Ft.e)(Object(P.state)(kr()),!0)],Wr=[Object(Ft.e)(Object(P.state)(Er()),!1)],Br=[Object(Ft.e)(Object(P.state)(Sr()),Object(P.props)(xr()))],Hr=[wn],zr=[Object(Ft.e)(Object(P.state)(wr()),Object(P.props)(yr()))],$r=[Object(Ft.e)(Object(P.state)(jr()),Object(P.props)(gr()))],Gr=[function(e){return{error:e.survey.nextPage()}}],_r=[function(e){return{error:e.survey.previousPage()}}],Jr=[function(e){var t=e.survey;return e.props,{done:t.submit()}}],Yr=[yn,Object(Ft.e)(Object(P.props)(hr()),Object(P.state)(Or())),function(e){var t=e.props;return{locations:t.locations.concat(t.currentLoc)}},Object(Ft.e)(Object(P.props)(vr()),"locations"),Object(Ft.e)(Object(P.props)(mr()),Object(P.props)(br())),wn],Kr=[function(e){return Dn.apply(this,arguments)},{found:[],notfound:[En,Object(Ft.e)(Object(P.props)(dr()),{}),Object(Ft.e)(Object(P.props)(fr()),Object(P.props)(pr())),function(e){return qn.apply(this,arguments)}]},Object(Ft.e)(Object(P.state)(lr()),Object(P.props)(sr()))],Xr=[Kr,Object(Ft.e)(Object(P.props)(ir()),Object(P.state)(ur())),function(e){return Rn.apply(this,arguments)},function(e){return Cn.apply(this,arguments)},Object(Ft.e)(Object(P.state)(cr()),Object(P.props)(or())),Object(Ft.e)(Object(P.state)(ar()),Object(P.props)(rr()),function(e){return{name:e}})],Zr=[Object(Ft.e)(Object(P.state)(nr()),!1),Object(Ft.e)(Object(P.state)(tr()),[])],ea=[function(e){return Sn.apply(this,arguments)}],ta=[En],na=[Object(Ft.e)(Object(P.state)(er()),!0),Object(Ft.f)(Object(P.state)(Zn())),{true:[],false:Xr},Object(Ft.d)(Object(P.state)(Xn()),Object(P.state)(Kn())),Object(Ft.e)(Object(P.props)(Yn()),Object(P.state)(Jn())),function(e){return Pn.apply(this,arguments)},Object(Ft.e)(Object(P.props)(_n()),Object(P.state)(Gn())),function(e){return Nn.apply(this,arguments)},Object(Ft.e)(Object(P.state)($n()),Object(P.props)(zn())),Object(Ft.e)(Object(P.state)(Hn()),!0),function(e){return(0,e.get)(Object(P.sequences)(Bn()))()}],ra=[Object(Ft.e)(Object(P.state)(Wn()),!1),function(){return window.location.reload()}],aa=[Object(Ft.e)(Object(P.state)(Fn()),Object(P.props)(Ln()))],oa=[Object(Ft.a)(Object(P.props)(Mn())),{person:[Object(Ft.e)(Object(P.props)(Vn()),Object(P.state)(Un()))],latitude:[yn,Object(Ft.e)(Object(P.props)(Qn()),Object(P.props)(Tn()))],longitude:[yn,Object(Ft.e)(Object(P.props)(In()),Object(P.props)(An()))],otherwise:[]},wn],ca={name:"general",title:"General",elements:[{name:"jobname",title:"Job/Project name",type:"text"},{name:"purpose",title:"Operation/Purpose",type:"dropdown",choices:["UAV","Planting","Spraying","Tilling","Harvest"],defaultValue:"UAV"},{name:"datetime",title:"Date/Time of data",type:"text",inputType:"datetime-local",defaultValue:n(146).DateTime.local().toFormat("yyyy-MM-dd'T'HH:mm:ss")},{type:"panel",elements:[{name:"locations",title:"Collection locations",type:"paneldynamic",panelCount:1,minPanelCount:1,panelAddText:"Add Location",panelRemoveText:"Remove Location",templateTitle:"Location #{panelIndex}",templateElements:[{name:"latitude",title:"Latitude",type:"text",inputType:"number",autofill:"latitude",isRequired:!0},{name:"longitude",title:"Longitude",type:"text",inputType:"number",autofill:"longitude",isRequired:!0}]}]},{name:"notes",title:"Notes or comments",type:"comment"}]},ua={name:"place",title:"Place",elements:[{name:"client",title:"Grower (or Client)",type:"text",placeHolder:"Farmer Frank"},{name:"operation",title:"Farm (or Operation)",type:"text",placeHolder:"Frank Farms"},{name:"site",title:"Field (or Site)",type:"text",placeHolder:"East Field"},{name:"crop",title:"Crop",type:"text",placeHolder:"corn"},{name:"prev-crop",title:"Previous Crop",type:"text",placeHolder:"beans"},{name:"weather",title:"Weather",type:"panel",elements:[{name:"weather-button",title:"Get Current Weather",type:"html",cerebralbutton:"setCurrentWeather"},{name:"temperature",title:"Temperature",type:"text",placeHolder:"60 F"},{name:"windspeed",title:"Wind Speed",type:"text",placeHolder:"10 mph"},{name:"winddirection",title:"Wind Direction",type:"text",placeHolder:"35 deg"}]}]},ia={name:"planting",title:"NYI",visibleIf:'!({purpose} == "UAV")',elements:[{name:"nyi",type:"html",html:"Not yet implemented"}]},sa={name:"b4ufly",title:"B4UFLY Status",visible:!1,elements:[{name:"b4ufly-status",title:"Status",type:"dropdown",isRequired:!0,choices:["proceed with caution","flying in controlled airspace (class B/C/D/E)","other"]},{name:"b4ufly-extra",title:"",type:"panel",visibleIf:'{b4ufly-status} == "flying in controlled airspace (class B/C/D/E)" or {b4ufly-status} == "other"',elements:[{name:"b4ufly-airport-operator",title:"Airport Operator Contact",type:"text",requiredIf:'{b4ufly-status} == "flying in controlled airspace (class B/C/D/E)"'},{name:"b4ufly-control-tower",title:"Control Tower Contact",type:"text",requiredIf:'{b4ufly-status} == "flying in controlled airspace (class B/C/D/E)"'},{name:"b4ufly-prior-authorization",title:"Prior Authorization",type:"text",requiredIf:'{b4ufly-status} == "flying in controlled airspace (class B/C/D/E)"'}]},{name:"b4ufly-options",title:"Options",type:"checkbox",isRequired:!0,choices:["checked NOTAMS","checked flight restrictions","checked local restrictions","checked upcoming restrictions","checked national parks"]},{name:"b4ufly-certificate",title:"COW or COA #",type:"text"}]},la={name:"uav-drone",title:"Drone Info",visibleIf:'{purpose} == "UAV"',elements:[{name:"drone-screenshots",title:"Flight Planning Screenshots",type:"panel",elements:[{name:"drone-flight-planning",title:"Screenshot of Flight Planning",type:"file",allowMultiple:!1},{name:"drone-advanced-flight-planning",title:"Screenshot of Advanced Flight Planning",type:"file",allowMultiple:!1}]},{name:"drone-qr",title:"Scan drone QR code",type:"html",cerebralbutton:"showDroneQRScanner",visible:!1},{name:"uav-drone-type",title:"Type",type:"dropdown",isRequired:!0,defaultValue:"Fixed wing",hasOther:!0,choices:["Fixed wing","Multi-rotor","Helicopter"]},{name:"uav-drone",title:"Drone",type:"dropdown",hideIfChoicesEmpty:!0,choices:[{make:"Test",model:"testtest",type:"Fixed wing"}].map(function(e,t){return{text:e.make+" "+e.model,value:e.make+" "+e.model,visibleIf:'{uav-drone-type} == "'.concat(e.type,'"')}})},{name:"uav-drone-make",title:"Make",type:"text",enableIf:"{uav-drone} empty"},{name:"uav-drone-model",title:"Model",type:"text",enableIf:"{uav-drone} empty"}]},pa={name:"uav-operator",title:"UAV Operator",visibleIf:'{purpose} == "UAV"',elements:[{name:"remote-pics",title:"Remote Pilot in Command (PIC)",description:"remote PIC - A person who holds a remote pilot certificate with an sUAS rating and has the final authority and responsibility for the operation and safety of an sUAS operation conducted under part 107.",type:"paneldynamic",panelCount:1,minPanelCount:1,panelAddText:"Add Remote PIC",panelRemoveText:"Remove Remote PIC",templateTitle:"Remote PIC #{panelIndex}",templateElements:[{name:"remote-pic-name",title:"Name",type:"text",autofill:"person",isRequired:!0,placeHolder:"Rusty Shackleford"},{name:"remote-pic-certificate",title:"Certificate Number or equivalent",type:"text",inputType:"number",isRequired:!0,placeHolder:"1234567",validators:[{type:"regex",regex:/^[0-9]{7}$/,text:"Invalid license number"}]}]},{name:"observer",title:"Visual Observer (VO)",description:"VO - A person acting as a flightcrew member who assists the small UA remote PIC and the person manipulating the controls to see and avoid other air traffic or objects aloft or on the ground.",type:"paneldynamic",panelCount:0,panelAddText:"Add VO",panelRemoveText:"Remove VO",templateTitle:"VO #{panelIndex}",templateElements:[{name:"observer-name",title:"Name",type:"text",isRequired:!0,placeHolder:"John Doe"}]}]},fa={name:"uav-sensors",title:"Sensors",visibleIf:'{purpose} == "UAV"',elements:[{name:"sensor-qr",type:"html",cerebralbutton:"showSensorQRScanner",visible:!1},{name:"sensors",title:"Sensors",type:"paneldynamic",panelCount:0,panelAddText:"Add Sensor",panelRemoveText:"Remove Sensor",templateTitle:"Sensor #{panelIndex}",templateElements:[{name:"uav-sensor-type",valueName:"type",title:"Type",type:"dropdown",isRequired:!0,hasOther:!0,otherText:"Add new type",otherErrorText:"Please enter the new type",choices:["RGB","Multispectral","Hyperspectral","LiDAR","Thermal"]},{name:"uav-sensor-makemodel",valueName:"sensor",title:"Make and Model",type:"dropdown",hideIfChoicesEmpty:!1,isRequired:!0,hasOther:!0,otherText:"Add new make and model",otherErrorText:"Please enter the new make and model",choices:[{make:"Sony",model:"A6000",type:"RGB"},{make:"Parrot",model:"Sequoia",type:"Multispectral"}].map(function(e,t){return{text:e.make+" "+e.model,value:e.make+" "+e.model,visibleIf:'{panel.type} == "'.concat(e.type,'"')}})}]}]};var da=[o,c,u,i,s,l,p].map(e=>e.default);da.forEach(function(e){return e.elements.push({type:"html",html:"* Indicates required field"})});var ba,ma=da,va=(ba=["pageNum","surveyData"],{providers:{localstore:{get:function(e){return Bt.a.get(e)},set:function(e,t){return Bt.a.set(e,t)},clear:function(){return Bt.a.clear()}}},state:{initialized:!1},sequences:{persistState:[Object(Ft.f)(Object(P.moduleState)(Zt())),{true:function(e){var t=e.localstore,n=e.props,r=n.key,a=n.val;return{success:t.set(r,a)}},false:[]}],clear:[Object(Ft.c)("clear paths",ba.map(function(e){return[function(t){return{val:t.localstore.clear(e)}}]}))],init:[Object(Ft.c)("get paths",ba.map(function(e){return[function(t){return{val:t.localstore.get(e)}},Object(Ft.f)(Object(P.props)(Xt()),function(e){return null===e}),{true:[],false:[Object(Ft.f)(Object(P.props)(Kt()),function(e){return"object"===typeof e}),{true:[Object(Ft.b)(Object(P.state)(Yt(),e),Object(P.props)(Jt()))],false:[Object(Ft.e)(Object(P.state)(_t(),e),Object(P.props)(Gt()))]}]}]})),Object(Ft.e)(Object(P.moduleState)($t()),!0)]},reactions:ba.map(function(e){var t=Object(h.Reaction)({val:Object(P.state)(zt(),e)},function(n){var r=n.val,a=n.get,o=t.modulePath.join(".");return a(Object(P.sequences)(Ht(),o))({key:e,val:r})});return Object(k.a)({},e,t)}).reduce(function(e,t){return Object.assign(e,t)},{})}),Oa={sequences:a,state:{loggedin:null,resultsId:null,submitting:!1,navigationOpen:!0,confirmSubmitOpen:!1,droneQRScannerActive:!1,sensorQRScannerActive:!1,surveyData:null,pastData:[],pages:[],pageNum:0,questions:{showNavigationButtons:!1,goNextPageAutomatic:!0,clearInvisibleValues:"onHidden",checkErrorsMode:"onValueChanged",pages:ma}},catch:[[sn,function(e){var t=e.error;return console.error(t)}],[Error,function(e){var t=e.error;return console.error(t)}]],providers:r,modules:{store:va}},ha=Object(h.default)(Oa,{devtools:null,throwToConsole:!0,noRethrow:!1,returnSequencePromise:!0});ha.on("initialized:model",function(){return console.log("sadsad")&&ha.getSequence("init")()}),m.a.render(d.a.createElement(g.Container,{app:ha},d.a.createElement(Lt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://awlayton.github.io/metadata-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("https://awlayton.github.io/metadata-app","/service-worker.js");v?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):O(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):O(t,e)})}}()}},[[156,2,1]]]);
//# sourceMappingURL=main.409c1f89.chunk.js.map