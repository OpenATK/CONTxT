{"version":3,"sources":["serviceWorker.js","QRDialog.js","surveyModel.js","Questions.js","PagesDrawer.js","ConfirmSubmitDialog.js","DebugButton.js","App.js","main/modules/localstore/index.js","main/providers.js","main/errors.js","main/actions.js","main/sequences.js","pages/general.js","pages/place.js","pages/planting.js","pages/uav/b4ufly.js","pages/uav/drone.js","pages/uav/operator.js","pages/uav/sensors.js","pages-loader.js","pages.js","main/index.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","connect","props","react_default","a","createElement","Dialog","fullScreen","open","AppBar","Toolbar","IconButton","color","onClick","onClose","aria-label","Close_default","Typography","variant","react_qr_reader_lib_default","style","width","onScan","data","onData","surveyModel","model","Survey","metaData","addProperty","name","default","pica","Pica","Questions","_this","this","_this$props","get","palette","theme","themeColors","ThemeColors","primary","main","dark","text","secondary","divider","background","paper","light","applyTheme","questions","_templateObject","pageNum","_templateObject2","undefined","currentPageNo","reaction","_templateObject3","_ref","_templateObject4","_ref2","updatePages","setData","survey","setPages","pages","visiblePages","map","page","hasErrors","title","_this2","_this$props2","Object","objectWithoutProperties","survey_react","assign","onCurrentPageChanged","_templateObject5","setPage","onPageVisibleChanged","bind","onPageAdded","onValueChanging","options","value","question","forEach","file","i","content","converted","img","Image","src","canvas","document","height","resize","unsharpAmount","unsharpRadius","unsharpThreshold","resized","toDataURL","type","onValueChanged","_ref3","setTimeout","completedHtml","ReactDOMServer","renderToString","onAfterRenderQuestion","_ref5","asyncToGenerator","regenerator_default","mark","_callee","_ref4","htmlElement","autofill","seq","_seq","wrap","_context","prev","next","sent","answer","cerebralbutton","sequences","_templateObject6","ReactDOM","render","Button","stop","_x","_x2","apply","arguments","Component","_templateObject7","init","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","withTheme","navigationOpen","PagesDrawer_templateObject","showNavigation","PagesDrawer_templateObject2","hideNavigation","PagesDrawer_templateObject3","setSurveyPage","PagesDrawer_templateObject4","PagesDrawer_templateObject5","PagesDrawer_templateObject6","_props$classes","classes","contents","align","className","grow","noWrap","Divider","List","ListItem","key","button","selected","ListItemIcon","Warning_default","Done_default","ListItemText","secondaryTypographyProps","drawer","Hidden","permScreens","implementation","SwipeableDrawer","onOpen","drawerPaper","tempScreens","Drawer","ConfirmSubmitDialog_templateObject","resultsUrl","ConfirmSubmitDialog_templateObject2","confirm","ConfirmSubmitDialog_templateObject3","handleClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","Link","target","href","DialogActions","autoFocus","DebugButton_templateObject","setState","DebugButton_templateObject2","submitResults","DebugButton_templateObject3","disconnect","DebugButton_templateObject4","aria-owns","aria-haspopup","process","Menu_Menu","MenuItem","params","queryString","parse","search","createMuiTheme","typography","useNextVariants","gold","addEventListener","e","preventDefault","install","prompt","App","lib_default","MuiThemeProvider","Fragment","CssBaseline","root","src_PagesDrawer","smUp","xsDown","position","appBar","debug","src_DebugButton","menuButton","Menu_default","disabled","submitting","some","submit","Send_default","data-theme","src_QRDialog","droneQRScannerActive","hideDroneQRScanner","sensorQRScannerActive","hideSensorQRScanner","src_ConfirmSubmitDialog","toolbar","src_Questions","isSinglePage","singlePage","Box","p","CircularProgress","size","onComplete","bottomBar","MobileStepper","steps","length","activeStep","mobileStepper","nextButton","goNextPage","NavigateNext_default","backButton","goPreviousPage","NavigateBefore_default","App_templateObject","App_templateObject2","App_templateObject3","App_templateObject4","App_templateObject5","App_templateObject6","App_templateObject7","App_templateObject8","App_templateObject9","App_templateObject10","App_templateObject11","App_templateObject12","showDroneQRScanner","App_templateObject13","showSensorQRScanner","_templateObject14","_templateObject15","_templateObject16","_templateObject17","login","_templateObject18","logout","_templateObject19","google","_templateObject20","createSheet","_templateObject21","_templateObject22","_templateObject23","withStyles","display","alignItems","justifyContent","textAlign","flexGrow","alignSelf","maxWidth","defineProperty","top","bottom","marginLeft","breakpoints","up","concat","mixins","marginRight","flexShrink","gapi","GetLocationError","_CerebralError","message","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","inherits","CerebralError","GAPIError","_CerebralError2","err","result","SerializeError","_CerebralError3","r","c","_this3","DeserializeError","_CerebralError4","_this4","geolocation","getCurrentLoc","_getCurrentLoc","msg","Promise","resolve","reject","getCurrentPosition","pos","coords","abrupt","t0","t1","code","errors","setAnswer","setValue","num","nextPage","previousPage","prevPage","completeLastPage","gapiClient","_init","_callee2","_context2","googleapi","tap","load","callback","onerror","timeout","ontimeout","client","discoveryDocs","auth","auth2","getAuthInstance","listener","signedIn","user","currentUser","getBasicProfile","context","getName","isSignedIn","listen","_get","_callee3","scope","_context3","hasGrantedScopes","grant","_disconnect","_callee4","_context4","appdataScope","join","googleappdata","getData","_getData","_callee5","_ref6","drive","_ref7","_context5","files","list","spaces","q","fields","appProperties","initData","_initData","_callee6","_ref8","_ref8$body","body","_ref9","_ref10","_context6","create","resource","mimeType","parents","_x3","sheetsScope","googlesheets","_createSheet","_callee7","_ref11","sheets","properties","_ref12","_context7","spreadsheets","getSheet","_getSheet","_callee8","_ref13","_ref14","sheet","_context8","values","spreadsheetId","range","XLSX","utils","aoa_to_sheet","sheet_to_json","_x4","writeSheet","_writeSheet","_callee9","sheetsURL","_ref15","_ref16","row","_context9","json_to_sheet","header","update","valueInputOption","includeValuesInResponse","majorDimension","objectSpread","_x5","_x6","addRow","_addRow","_callee10","cols","_ref17","_context10","append","insertDataOption","_x7","_x8","_x9","serialize","serialized","keys","JSON","stringify","deserialize","deserialized","startsWith","kkey","substring","apixu","Apixu","apikey","weather","current","_current","_callee11","query","_context11","_x10","getCurrentLocation","currentLoc","latitude","longitude","main_actions_createSheet","results","resultsId","_ref18","path","found","notfound","_ref19","set","sequences_templateObject","sequences_templateObject2","sequences_templateObject3","sequences_templateObject4","_initGapi","sequences_templateObject5","sequences_templateObject6","sequences_templateObject7","sequences_templateObject8","sequences_templateObject9","sequences_templateObject10","sequences_templateObject11","setSurveyData","sequences_templateObject12","sequences_templateObject13","actions","sequences_templateObject14","sequences_templateObject15","sequences_templateObject16","sequences_templateObject17","completeSurvey","done","setCurrentLocation","sequences_templateObject18","sequences_templateObject19","locations","sequences_templateObject20","sequences_templateObject21","sequences_templateObject22","loadappdata","_loadAppData","sequences_templateObject23","_templateObject24","_templateObject25","_createAppData","_templateObject26","_templateObject27","_templateObject28","_templateObject29","_loadPastResults","_deserializeResults","_templateObject30","_templateObject31","_templateObject32","_templateObject33","_templateObject34","_templateObject35","disconnectGoogle","_disconnectGapi","_templateObject36","when","_templateObject37","true","false","push","_templateObject38","_templateObject39","_templateObject40","_templateObject41","_serializeResults","_templateObject42","_templateObject43","_uploadResults","_templateObject44","_templateObject45","_templateObject46","_templateObject47","confirmSubmit","_templateObject48","reload","setDebugMenuOpen","_templateObject49","_templateObject50","getCurrentLocationWeather","_templateObject51","_templateObject52","_templateObject53","_templateObject54","_x11","_getCurrentWeather","equals","_templateObject55","person","_templateObject56","_templateObject57","_templateObject58","_templateObject59","_templateObject60","_templateObject61","temperature","_templateObject62","_templateObject63","windspeed","_templateObject64","_templateObject65","winddirection","_templateObject66","_templateObject67","otherwise","general","elements","choices","defaultValue","inputType","DateTime","local","toFormat","panelCount","minPanelCount","panelAddText","panelRemoveText","templateTitle","templateElements","isRequired","place","placeHolder","visible","planting","visibleIf","html","b4ufly","requiredIf","drone","allowMultiple","hasOther","hideIfChoicesEmpty","make","enableIf","operator","description","validators","regex","uav_sensors","valueName","otherText","otherErrorText","pages_loader","general_namespaceObject","place_namespaceObject","planting_namespaceObject","b4ufly_namespaceObject","drone_namespaceObject","operator_namespaceObject","sensors_namespaceObject","paths","store","providers","localstore","ls","val","clear","initialized","persistState","moduleState","localstore_templateObject","success","parallel","localstore_templateObject2","localstore_templateObject3","merge","localstore_templateObject4","localstore_templateObject5","localstore_templateObject6","localstore_templateObject7","localstore_templateObject8","reactions","Reaction","localstore_templateObject9","modulePath","localstore_templateObject10","sequence","reduce","obj","loggedin","confirmSubmitOpen","surveyData","pastData","showNavigationButtons","goNextPageAutomatic","clearInvisibleValues","checkErrorsMode","Error","modules","app","devtools","throwToConsole","noRethrow","returnSequencePromise","on","getSequence","_cerebral_react","src_App_0","getElementById","URL","origin","fetch","response","contentType","headers","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.5f15b6ed.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport {connect} from '@cerebral/react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport QrReader from 'react-qr-reader';\n\nfunction QRDialog(props) {\n    return (\n        <Dialog\n            fullScreen\n            open={props.open}\n        >\n          <AppBar>\n            <Toolbar>\n              <IconButton color='inherit' onClick={props.onClose} aria-label='Close'>\n                <CloseIcon />\n              </IconButton>\n              <Typography variant='h6' color='inherit'>\n                Scan QR code\n              </Typography>\n            </Toolbar>\n          </AppBar>\n            <QrReader\n                style={{width: '100%'}}\n                onScan={data => {\n                    if (!data) {\n                        return;\n                    }\n\n\t\t\t\t\tprops.onData(data);\n                    props.onClose();\n                }}\n            />\n        </Dialog>\n    );\n}\n\nexport default connect({\n}, QRDialog);\n","// TODO: This is probably the wrong way to do stuff, but I don't know cerebral\n// Want a singleton of survey model\nexport default {\n    model: null\n};\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactDOMServer from 'react-dom/server';\n\nimport {connect} from '@cerebral/react';\nimport {state, sequences} from 'cerebral/tags';\n\nimport Button from '@material-ui/core/Button';\nimport {withTheme} from '@material-ui/core/styles';\n\nimport * as Survey from 'survey-react';\nimport 'survey-react/survey.css';\n\nimport Pica from 'pica';\n\nimport surveyModel from './surveyModel';\n\nSurvey.JsonObject.metaData.addProperty('question', {\n    name: 'cerebralbutton',\n});\n\nSurvey.JsonObject.metaData.addProperty('question', {\n    name: 'autofill',\n    default: false,\n});\n\nlet pica = new Pica();\n\nclass Questions extends Component {\n    componentWillMount() {\n        const {get, theme} = this.props;\n\n        // Apply MUI theme to survey\n        const {palette} = theme;\n        let themeColors = Survey.StylesManager.ThemeColors['default'];\n        themeColors['$main-color'] = palette.primary.main;\n        themeColors['$main-hover-color'] = palette.primary.dark;\n        themeColors['$text-color'] = palette.text.primary;\n        themeColors['$header-color'] = palette.secondary.main;\n        themeColors['$border-color'] = palette.divider;\n        themeColors['$header-background-color'] = palette.secondary.main;\n        themeColors['$body-background-color'] = palette.background.paper;\n        themeColors['$body-container-background-color'] = palette.background.paper;\n        themeColors['$inputs-background-color'] = palette.background.default;\n        themeColors['$error-color'] = palette.error.main;\n        themeColors['$error-background-color'] = palette.error.light;\n        Survey.StylesManager.applyTheme('default');\n\n        this.model = new Survey.Model(this.props.questions);\n        surveyModel.model = this.model;\n\n        // TODO: I'm sure this is isn't right with cerebral..\n        let data = get(state`surveyData`);\n        if (data) {\n            this.model.data = data;\n        }\n        let pageNum = get(state`pageNum`);\n        if (pageNum !== undefined) {\n            this.model.currentPageNo = pageNum;\n        }\n\n        this.props.reaction('changePage',\n            {\n                pageNum: state`pageNum`,\n            },\n            ({pageNum}) => this.model.currentPageNo = pageNum\n        );\n        this.props.reaction('changeData',\n            {\n                data: state`surveyData`,\n            },\n            ({data}) => this.model.data = data\n        );\n\n        this.updatePages(this.model);\n        this.props.setData({data: this.model.data});\n    }\n\n    updatePages(survey) {\n        this.props.setPages({\n            pages: survey.visiblePages.map((page) => ({\n                error: page.hasErrors(false, false),\n                name: page.name,\n                title: page.title,\n            }))\n        });\n    }\n\n    render() {\n        let {get, ...props} = this.props;\n        return (\n            <Survey.Survey\n                {...props}\n                model={this.model}\n                onCurrentPageChanged={(survey) => {\n                    if (get(state`pageNum`) !== survey.currentPageNo) {\n                        props.setPage({pageNum: survey.currentPageNo});\n                    }\n                }}\n                onPageVisibleChanged={this.updatePages.bind(this)}\n                onPageAdded={this.updatePages.bind(this)}\n                onValueChanging={(survey, options) => {\n                    let {value, question} = options;\n                    if (question instanceof Survey.QuestionFileModel) {\n                        (value || []).forEach((file, i) => {\n                            if (!(file && file.content) || file.converted) {\n                                return;\n                            }\n\n                            let img = new Image();\n                            img.src = file.content;\n                            let canvas = document.createElement('canvas');\n                            // TODO: Too small, need to upload to photos etc...\n                            canvas.width = 150;\n                            // Maintain aspect ratio\n                            canvas.height =\n                                img.height * canvas.width / img.width;\n\n                            const options = {\n                                unsharpAmount: 80,\n                                unsharpRadius: 0.6,\n                                unsharpThreshold: 2,\n                            };\n                            pica.resize(img, canvas, options).then(() => {\n                                let resized = {\n                                    name: file.name,\n                                    content: canvas.toDataURL(),\n                                    type: 'image/png',\n                                    converted: true\n                                };\n\n                                // You have to reassign question.value\n                                // Stuff breaks if you assign question.value[i]\n                                let value = question.value;\n                                question.value = [];\n                                value[i] = resized;\n                                question.value = value;\n                            });\n                        });\n                    }\n                }}\n                onValueChanged={(survey, {name, value, question}) => {\n                    props.setData({data: survey.data});\n                    // No idea why, but cerebral freaks out if I call this\n                    // without the setTimeout...\n                    setTimeout(() => this.updatePages(survey));\n                }}\n                completedHtml={\n                    ReactDOMServer.renderToString(props.completedHtml)\n                }\n                onAfterRenderQuestion={\n                    async (survey, {question, htmlElement}) => {\n                        let {autofill} = question;\n                        // Try to autofill if unanswered\n                        if (question.value === undefined && autofill) {\n                            if (typeof autofill === 'function') {\n                                question.value = await autofill(question);\n                            } else {\n                                let seq = await props.autofill({\n                                    // TODO: How to handle dynamic questions?\n                                    question: question.name,\n                                    autofill,\n                                });\n                                question.value = seq && seq.answer;\n                            }\n                        }\n                        if (question.cerebralbutton) {\n                            let seq = get(sequences`${question.cerebralbutton}`);\n                            ReactDOM.render(\n                                <Button onClick={() => seq()}>\n                                    {question.title}\n                                </Button>\n                            , htmlElement);\n                        }\n                    }\n                }\n            />\n        );\n    }\n}\n\nexport default connect(\n    {\n        questions: state`questions`,\n        init: sequences`initSurvey`,\n        data: state`surveyData`,\n        setData: sequences`setSurveyData`,\n        setPage: sequences`setSurveyPage`,\n        setPages: sequences`setPages`,\n        autofill: sequences`autofill`,\n    },\n    withTheme(Questions)\n);\n","import React from 'react';\nimport {connect} from '@cerebral/react';\nimport {state, sequences} from 'cerebral/tags';\n\nimport WarningIcon from '@material-ui/icons/Warning';\nimport DoneIcon from '@material-ui/icons/Done';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nfunction PagesDrawer(props) {\n    const {classes={}} = props;\n\n    const contents = (\n        <div>\n            <Toolbar>\n                <Typography\n                    variant='h6'\n                    color='primary'\n                    align='center'\n                    className={classes.grow}\n                    noWrap\n                >\n                    Pages\n                </Typography>\n            </Toolbar>\n            <Divider />\n            <List>\n                {props.pages.map(({name, title, error}, pageNum) => (\n                    <ListItem\n                        key={name}\n                        button\n                        selected={pageNum === props.pageNum}\n                        className={error ? 'page-err' : 'page-complete'}\n                        onClick={()=>props.setSurveyPage({pageNum})}>\n                        <ListItemIcon>\n                            {error ? <WarningIcon color='error'/> : <DoneIcon />}\n                        </ListItemIcon>\n                        <ListItemText\n                            primary={title}\n                            secondary={error ? 'Incomplete' : 'Complete'}\n                            secondaryTypographyProps={{\n                                color: error ? 'error' : 'textSecondary',\n                            }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n        </div>\n    );\n\n    return (\n        <nav className={classes.drawer}>\n            <Hidden {...props.permScreens} implementation='js'>\n                <SwipeableDrawer\n                    open={props.navigationOpen}\n                    onOpen={()=>props.showNavigation()}\n                    onClose={()=>props.hideNavigation()}\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n                >\n                    {contents}\n                </SwipeableDrawer>\n            </Hidden>\n            <Hidden {...props.tempScreens} implementation='js'>\n                <Drawer\n                    variant='permanent'\n                    open\n                    classes={{\n                        paper: classes.drawerPaper,\n                    }}\n                >\n                    {contents}\n                </Drawer>\n            </Hidden>\n        </nav>\n    );\n}\n\nexport default connect({\n    navigationOpen: state`navigationOpen`,\n    showNavigation: sequences`showNavigation`,\n    hideNavigation: sequences`hideNavigation`,\n    setSurveyPage: sequences`setSurveyPage`,\n    pages: state`pages`,\n    pageNum: state`pageNum`,\n}, PagesDrawer);\n","import React from 'react';\nimport {connect} from '@cerebral/react';\nimport {state, sequences} from 'cerebral/tags';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Link from '@material-ui/core/Link';\n\nfunction ConfirmSubmitDialog(props) {\n    const handleClose = props.confirm;\n    return (\n        <Dialog\n            open={props.open}\n            onClose={handleClose}\n            aria-labelledby='alert-dialog-title'\n            aria-describedby='alert-dialog-description'\n        >\n            <DialogTitle id='alert-dialog-title'>\n                Successfully submitted metadata\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id='alert-dialog-description'>\n                    {'Your metadata have been uploaded '}\n                    <Link target='_blank' href={props.resultsUrl}>\n                        here.\n                    </Link>\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color='primary' autoFocus>\n                    OK\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default connect({\n    open: state`confirmSubmitOpen`,\n    resultsUrl: state`resultsUrl`,\n    confirm: sequences`confirmSubmit`,\n}, ConfirmSubmitDialog);\n","import React from 'react';\nimport {connect} from '@cerebral/react';\nimport {state, sequences} from 'cerebral/tags';\n\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nfunction DebugButton(props) {\n    let button = (\n        <Button\n            aria-owns='debug-menu'\n            aria-haspopup='true'\n            onClick={() => props.setState({open: true})}\n            color='inherit'\n        >\n            {process.env.REACT_APP_GIT}\n        </Button>\n    );\n    return (\n        <div>\n            {button}\n            <Menu\n                id='debug-menu'\n                //anchorEl={button}\n                open={props.open || false}\n                onClose={() => props.setState({open: false})}\n            >\n                <MenuItem onClick={() => props.submitResults()}>\n                    Force Submit\n                </MenuItem>\n                <MenuItem onClick={() => props.disconnect()}>\n                    Disconnect Google\n                </MenuItem>\n            </Menu>\n        </div>\n    );\n}\n\nexport default connect({\n    open: state`debugMenuOpen`,\n    setState: sequences`setDebugMenuOpen`,\n    submitResults: sequences`submitResults`,\n    disconnect: sequences`disconnectGoogle`,\n}, DebugButton);\n","import React, {Component} from 'react';\nimport {connect} from '@cerebral/react';\nimport {state, sequences} from 'cerebral/tags';\n\nimport {withStyles} from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport SendIcon from '@material-ui/icons/Send';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core/styles';\nimport gold from '@material-ui/core/colors/amber';\n\n// Has to be last mui import\nimport Box from '@material-ui/core/Box';\n\nimport HttpsRedirect from 'react-https-redirect';\nimport queryString from 'query-string';\n\nimport './App.css';\nimport QRDialog from './QRDialog';\nimport Questions from './Questions';\nimport PagesDrawer from './PagesDrawer';\nimport ConfirmSubmitDialog from './ConfirmSubmitDialog';\nimport DebugButton from './DebugButton';\n\n// Parse query string\nconst params = queryString.parse(window.location.search);\n\n// All the following keys are optional.\n// We try our best to provide a great default value.\nconst theme = createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    },\n    palette: {\n        type: params.theme || 'dark',\n        primary: gold,\n    },\n});\n\nconst drawerWidth = 240;\nconst styles = (theme) => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    content: {\n        textAlign: 'center',\n        flexGrow: 1,\n        alignSelf: 'center',\n        maxWidth: 800,\n    },\n    appBar: {\n        top: 0,\n        bottom: 'auto',\n        marginLeft: drawerWidth,\n        [theme.breakpoints.up('sm')]: {\n            width: `calc(100% - ${drawerWidth}px)`,\n        },\n    },\n    toolbar: theme.mixins.toolbar,\n    bottomBar: {\n        bottom: 0,\n        top: 'auto',\n        marginLeft: drawerWidth,\n        [theme.breakpoints.up('sm')]: {\n            width: `calc(100% - ${drawerWidth}px)`,\n        },\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginLeft: -12,\n        marginRight: 20,\n        [theme.breakpoints.up('sm')]: {\n          display: 'none',\n        },\n    },\n    drawer: {\n        [theme.breakpoints.up('sm')]: {\n            width: drawerWidth,\n            flexShrink: 0,\n        },\n    },\n    drawerPaper: {\n        width: drawerWidth,\n    },\n});\n\nwindow.addEventListener('beforeinstallprompt', (e) => {\n    // Prevent Chrome 67 and earlier from automatically showing the prompt\n    e.preventDefault();\n    // Stash the event so it can be triggered later.\n    //deferredPrompt = e;\n    if (params.install !== undefined) {\n        e.prompt(); // TODO: Don't show prompt immediately?\n    }\n});\n\nclass App extends Component {\n    componentWillMount() {\n        this.props.init();\n    }\n\n    render() {\n        let {props} = this;\n        const {classes} = props;\n\n        return (\n            <HttpsRedirect>\n            <MuiThemeProvider theme={theme}>\n            <React.Fragment>\n            <CssBaseline />\n            <div className={classes.root}>\n                <PagesDrawer\n                    classes={classes}\n                    // Screens sizes to show permanent drawer\n                    permScreens={{smUp: true}}\n                    // Screens sizes to show temporary drawer\n                    tempScreens={{xsDown: true}}\n                />\n                <AppBar position='fixed' className={classes.appBar}>\n                    <Toolbar>\n                        {params.debug !== undefined &&\n                            // Super secret debug button\n                            <DebugButton />\n                        }\n                        <IconButton\n                            className={classes.menuButton}\n                            color='inherit'\n                            onClick={() => props.showNavigation()}\n                            aria-label='Pages'>\n                            <MenuIcon\n                            />\n                        </IconButton>\n                        <Button\n                            color='inherit'\n                            disabled={\n                                props.submitting ||\n                                    props.pages.some(page => page.error)\n                            }\n                            onClick={() => props.submit()}>\n                            Submit\n                            <SendIcon />\n                        </Button>\n                        <div className={classes.grow} />\n                        <div className='g-signin2' data-theme='dark' />\n                    </Toolbar>\n                </AppBar>\n                <QRDialog\n                    open={props.droneQRScannerActive}\n                    onClose={props.hideDroneQRScanner}\n                />\n                <QRDialog\n                    open={props.sensorQRScannerActive}\n                    onClose={props.hideSensorQRScanner}\n                />\n                <ConfirmSubmitDialog />\n                <main className={classes.content}>\n                    <div className={classes.toolbar} />\n                    <Questions\n                        isSinglePage={params.singlePage !== undefined}\n                        completedHtml={(\n                            <div>\n                                <Typography color='inherit' >\n                                    Submitting Metadata\n                                </Typography>\n                                <Box p={4} >\n                                    <CircularProgress size={100} />\n                                </Box>\n                            </div>\n                        )}\n                        onComplete={({data}) => props.submitResults()}\n                    />\n                    <div className={classes.toolbar} />\n                </main>\n                <AppBar position='fixed' className={classes.bottomBar}>\n                    <MobileStepper\n                        steps={props.pages.length}\n                        position='static'\n                        activeStep={props.pageNum}\n                        className={classes.mobileStepper}\n                        nextButton={\n                            props.pageNum === props.pages.length - 1 ?\n                                <Button\n                                    color='primary'\n                                    //disabled={}\n                                    onClick={() => props.submit()}>\n                                    Sumbit\n                                    <SendIcon />\n                                </Button>\n                                :\n                                <Button\n                                    color='primary'\n                                    //disabled={}\n                                    onClick={() => props.goNextPage()}>\n                                    Next\n                                    <NavigateNextIcon />\n                                </Button>\n                        }\n                        backButton={\n                            <Button\n                                color='primary'\n                                disabled={props.pageNum === 0}\n                                onClick={() => props.goPreviousPage()}>\n                                <NavigateBeforeIcon />\n                                Previous\n                            </Button>\n                        }\n                    />\n                </AppBar>\n            </div>\n            </React.Fragment>\n            </MuiThemeProvider>\n            </HttpsRedirect>\n        );\n    }\n}\n\nexport default connect({\n    navigationOpen: state`navigationOpen`,\n    showNavigation: sequences`showNavigation`,\n    hideNavigation: sequences`hideNavigation`,\n    setSurveyPage: sequences`setSurveyPage`,\n    pages: state`pages`,\n    pageNum: state`pageNum`,\n    goNextPage: sequences`goNextPage`,\n    goPreviousPage: sequences`goPreviousPage`,\n    submit: sequences`completeSurvey`,\n    questions: state`questions`,\n    droneQRScannerActive: state`droneQRScannerActive`,\n    sensorQRScannerActive: state`sensorQRScannerActive`,\n    showDroneQRScanner: sequences`showDroneQRScanner`,\n    showSensorQRScanner: sequences`showSensorQRScanner`,\n    hideDroneQRScanner: sequences`hideDroneQRScanner`,\n    hideSensorQRScanner: sequences`hideSensorQRScanner`,\n    init: sequences`init`,\n    login: sequences`login`,\n    logout: sequences`logout`,\n    google: state`google`,\n    createSheet: sequences`createSheet`,\n    submitResults: sequences`submitResults`,\n    submitting: state`submitting`,\n}, withStyles(styles)(App));\n","import {Reaction} from 'cerebral';\nimport {state, moduleState, props, sequences} from 'cerebral/tags'\nimport {set, merge, when, parallel} from 'cerebral/factories';\n\nimport ls from 'local-storage';\n\nexport default (paths) => ({\n    providers: {\n        localstore: {\n            get(key) {\n                return ls.get(key);\n            },\n\n            set(key, val) {\n                return ls.set(key, val);\n            },\n\n            clear() {\n                return ls.clear();\n            },\n        },\n    },\n\n    state: {\n        initialized: false,\n    },\n\n    sequences: {\n        persistState: [\n            when(moduleState`initialized`), // Wait for init?\n            {\n                true: ({localstore, props}) => {\n                    let {key, val} = props;\n                    return {success: localstore.set(key, val)};\n                },\n                false: [],\n            },\n        ],\n        clear: [\n            parallel('clear paths', paths.map(path => [\n                ({localstore}) => ({val: localstore.clear(path)}),\n            ])),\n        ],\n        init: [\n            // Load each path from store and set it in state\n            parallel('get paths', paths.map(path => [\n                ({localstore}) => ({val: localstore.get(path)}),\n                when(props`val`, val => val === null),\n                {\n                    true: [], // Ignore null/unset keys\n                    false: [\n                        when(props`val`, val => typeof val === 'object'),\n                        {\n                            true: [merge(state`${path}`, props`val`)],\n                            false: [set(state`${path}`, props`val`)],\n                        }\n                    ],\n                }\n            ])),\n            set(moduleState`initialized`, true),\n        ],\n    },\n\n    // Generate a reaction for each path in the store\n    reactions: paths.map(path => {\n        let reaction = Reaction(\n            {\n                val: state`${path}`,\n            },\n            // TODO: Why didn't using moduleSequences work??\n            //({val, get}) => get(moduleSequences`persistState`)({key: path, val})\n            ({val, get}) => {\n                const name = reaction.modulePath.join('.');\n                const sequence = get(sequences`${name}.persistState`);\n                return sequence({key: path, val});\n            }\n        );\n        return {[path]: reaction};\n    }).reduce((obj, reaction) => Object.assign(obj, reaction), {}),\n});\n","import Promise from 'bluebird';\n//import {state} from 'cerebral';\nimport googleapi from 'google-client-api';\nimport XLSX from 'xlsx';\nimport {Apixu} from 'apixu';\n\nimport * as errors from './errors';\nimport model from '../surveyModel';\n\nexport const geolocation = {\n    async getCurrentLoc() {\n        try {\n            return await new Promise((resolve, reject) =>\n                    navigator.geolocation.getCurrentPosition(resolve, reject))\n                .then(pos => pos.coords);\n        } catch (err) {\n            let msg;\n\n            switch (err.code) {\n                case 1: // PERMISSION_DENIED\n                    msg = 'Permission denied';\n                    break;\n                case 2: // POSITION_UNAVAILABLE\n                    msg = 'Position unavailable';\n                    break;\n                case 3: // TIMEOUT\n                    msg = 'Timeout obtaining position';\n                    break;\n                default:\n                    msg = 'Unknown error';\n            }\n\n            throw new errors.GetLocationError(msg);\n        }\n    }\n};\n\nexport const survey = {\n    setAnswer(name, value) {\n        model.model.setValue(name, value);\n    },\n\n    setPage(num) {\n        model.model.currentPageNo = num;\n    },\n\n    nextPage() {\n        return model.model.nextPage();\n    },\n\n    previousPage() {\n        return model.model.prevPage();\n    },\n\n    setData(data) {\n        model.model.data = data;\n    },\n\n    submit() {\n        return model.model.completeLastPage();\n    },\n};\n\nlet gapi;\nexport const gapiClient = {\n    // Do one-time gapi setup not effected by login/logout\n    async init({login, logout}) {\n        gapi = Promise.resolve(googleapi())\n            // Load client library\n            .tap(({load}) => new Promise((resolve, reject) => load('client', {\n                callback: resolve,\n                onerror: reject,\n                timeout: 10000,\n                ontimeout: reject,\n            })))\n            // Initialize client (load sheets and drive APIs)\n            .tap(({client}) => client.init({\n                discoveryDocs: [\n                    'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest',\n                    'https://sheets.googleapis.com/$discovery/rest?version=v4'\n                ],\n            }))\n            // Listen for login/logout\n            .tap(({auth2}) => {\n                let auth = auth2.getAuthInstance();\n                let listener = signedIn => {\n                    if (!signedIn) {\n                        logout && this.context.get(logout)();\n                    } else {\n                        let user = auth.currentUser.get().getBasicProfile();\n                        login && this.context.get(login)({\n                            name: user.getName(),\n                        });\n                    }\n                };\n\n                auth.isSignedIn.listen(listener);\n                listener(auth.isSignedIn.get());\n            });\n        await gapi;\n    },\n\n    async get(scope) {\n        return gapi\n            .tap(({auth2}) => {\n                let user = auth2.getAuthInstance().currentUser.get();\n\n                // Request needed scopes from user\n                if (!user.hasGrantedScopes(scope)) {\n                    return user.grant({scope});\n                }\n            })\n            .get('client');\n    },\n\n    async disconnect() {\n        (await gapi).auth2.getAuthInstance().currentUser.get().disconnect();\n    },\n};\nconst appdataScope = [\n    'https://www.googleapis.com/auth/drive.appdata',\n    //'https://www.googleapis.com/auth/drive.file',\n].join(' ');\nexport const googleappdata = {\n    async getData() {\n        let {drive} = await this.context.gapiClient.get(appdataScope);\n\n        let result;\n        try {\n            ({result} = await drive.files.list({\n                spaces: 'appDataFolder',\n                q: \"name='config.json'\",\n                fields: 'files(id, appProperties)',\n            }));\n        } catch (err) {\n            throw new errors.GAPIError(err);\n        }\n\n        return result.files[0] && result.files[0].appProperties;\n    },\n\n    async initData({body = {}}) {\n        let {drive} = await this.context.gapiClient.get(appdataScope);\n\n        try {\n            let {result} = await drive.files.create({\n                resource: {\n                    name: 'config.json',\n                    mimeType: 'application/json',\n                    parents: ['appDataFolder'],\n                    appProperties: body,\n                },\n            });\n            return result;\n        } catch (err) {\n            throw new errors.GAPIError(err);\n        }\n    },\n};\nconst sheetsScope = 'https://www.googleapis.com/auth/drive.file';\nexport const googlesheets = {\n    async createSheet() {\n        let {sheets} = await this.context.gapiClient.get(sheetsScope);\n\n        const properties = {title: 'CONTxT metadata uploads'};\n        try {\n            let {result} = await sheets.spreadsheets.create({properties});\n            return result;\n        } catch (err) {\n            throw new errors.GAPIError(err);\n        }\n    },\n\n    async getSheet(id) {\n        let {sheets} = await this.context.gapiClient.get(sheetsScope);\n\n        let result;\n        try {\n            ({result} = await sheets.spreadsheets.values.get({\n                spreadsheetId: id,\n                range: ['Sheet1'],\n            }));\n        } catch (err) {\n            throw new errors.GAPIError(err);\n        }\n\n        if (!result.values) {\n            return [];\n        }\n\n        let sheet = XLSX.utils.aoa_to_sheet(result.values);\n        return XLSX.utils.sheet_to_json(sheet);\n    },\n\n    async writeSheet(id, data) {\n        const sheetsURL = 'https://docs.google.com/spreadsheets';\n        let {sheets} = await this.context.gapiClient.get(sheetsScope);\n\n        // Format data with spreadsheet lib\n        let sheet = XLSX.utils.json_to_sheet(data);\n        let values = XLSX.utils.sheet_to_json(sheet, {header: 1});\n\n        try {\n            let {result} = await sheets.spreadsheets.values.update({\n                spreadsheetId: id,\n                range: sheet['!ref'],\n                valueInputOption: 'USER_ENTERED', // 'RAW'\n                includeValuesInResponse: false,\n            }, {\n                majorDimension: 'ROWS',\n                values,\n            });\n            let row = data.length + 1;\n            return {\n                ...result,\n                // TODO: How to better handle URL from ID etc.?\n                resultsUrl: `${sheetsURL}/d/${id}#gid=0&range=${row}:${row}`\n            };\n        } catch (err) {\n            throw new errors.GAPIError(err);\n        }\n    },\n\n    async addRow(id, cols, row) {\n        let {sheets} = await this.context.gapiClient.get(sheetsScope);\n\n        return sheets.spreadsheets.values.append({\n            spreadsheetId: id,\n            valueInputOption: 'USER_ENTERED', // 'RAW'\n            insertDataOption: 'INSERT_ROWS', // 'OVERWRITE'\n            includeValuesInResponse: false,\n        }, {\n            majorDimension: 'ROWS',\n            values: [row],\n        });\n    },\n};\n\n// TODO: Better way to handle arrays and such in a spreadsheet?\nexport const serialize = {\n    serialize(data) {\n        return data.map((result, i) => {\n            let serialized = {};\n            Object.keys(result).forEach(key => {\n                try {\n                    if (typeof result[key] === 'object') {\n                        if (result[key]) {\n                            let kkey = '$$' + key;\n                            serialized[kkey] = JSON.stringify(result[key]);\n                        }\n                    } else {\n                        serialized[key] = result[key];\n                    }\n                } catch (err) {\n                    throw new errors.SerializeError(i, key, err);\n                }\n            });\n            return serialized;\n        });\n    },\n\n    deserialize(data) {\n        return data.map((result, i) => {\n            let deserialized = {};\n            Object.keys(result).forEach(key => {\n                try {\n                    if (key.startsWith('$$')) {\n                        if (result[key]) {\n                            let kkey = key.substring(2);\n                            deserialized[kkey] = JSON.parse(result[key]);\n                        }\n                    } else {\n                        deserialized[key] = result[key];\n                    }\n                } catch (err) {\n                    // +2 is for header row and 1 vs 0 indexing\n                    throw new errors.DeserializeError(i + 2, key, err);\n                }\n            });\n            return deserialized;\n        });\n    },\n};\n\nconst apixu = new Apixu({apikey: '5a942f64c1a041238c602818190802'});\nexport const weather = {\n    async current(query) {\n        return (await apixu.current(query)).current;\n    },\n};\n","import {CerebralError} from 'cerebral';\n\nexport class GetLocationError extends CerebralError {\n    constructor(message) {\n        super(message);\n        this.name = 'GetLocationError';\n    }\n}\n\nexport class GAPIError extends CerebralError {\n    constructor(err) {\n        // gapi doesn't always throw the same sorts of things..\n        let error = err;\n        if (err.result && error.result.error) {\n            error = err.result.error;\n        }\n\n        super(error.message);\n        this.name = 'GAPIError';\n        this.result = error;\n    }\n}\n\nexport class SerializeError extends CerebralError {\n    constructor(r, c, err) {\n        super(`Error serializing column \"${c}\" of row ${r}: ${err.message}`);\n        this.name = 'DeserializeError';\n        this.err = err;\n    }\n}\n\nexport class DeserializeError extends CerebralError {\n    constructor(r, c, err) {\n        super(`Error deserializing column \"${c}\" of row ${r}: ${err.message}`);\n        this.name = 'DeserializeError';\n        this.err = err;\n    }\n}\n","//import {state} from 'cerebral';\n\nexport function getCurrentLocation({geolocation}) {\n    return geolocation.getCurrentLoc()\n        .then(({latitude, longitude}) => ({currentLoc: {latitude, longitude}}));\n}\n\nexport function setAnswer({survey, props}) {\n    return survey.setAnswer(props.question, props.answer);\n}\nexport function setSurveyPage({survey, props}) {\n    return survey.setPage(props.pageNum);\n}\nexport function setSurveyData({survey, props}) {\n    return survey.setData(props.data);\n}\nexport function nextPage({survey}) {\n    return {error: survey.nextPage()};\n}\nexport function previousPage({survey}) {\n    return {error: survey.previousPage()};\n}\nexport function completeSurvey({survey, props}) {\n    return {done: survey.submit()};\n}\n\nexport async function initGapi({gapiClient, props}) {\n    return gapiClient.init(props);\n}\nexport async function disconnectGapi({gapiClient}) {\n    return gapiClient.disconnect();\n}\nexport async function createSheet({googlesheets}) {\n    let sheet = await googlesheets.createSheet();\n    return {sheet};\n}\nexport async function initSheet({googlesheets, props}) {\n    let {result} = await googlesheets.createSheet();\n    await googlesheets.addRow(result.spreadsheetId, props.headerRow);\n}\nexport async function serializeResults({serialize, props}) {\n    let {results} = props;\n\n    return {results: serialize.serialize(results)};\n}\nexport async function deserializeResults({serialize, props}) {\n    let {results} = props;\n\n    return {results: serialize.deserialize(results)};\n}\nexport async function loadPastResults({googlesheets, props}) {\n    let {resultsId} = props;\n\n    let results = (await googlesheets.getSheet(resultsId)) || [];\n\n    return {results};\n}\nexport async function uploadResults({googlesheets, props}) {\n    let {results, resultsId} = props;\n\n    return googlesheets.writeSheet(resultsId, results);\n}\n\nexport async function createAppData({googleappdata, props}) {\n    let result = await googleappdata.initData(props);\n\n    return {result};\n}\nexport async function loadAppData({googleappdata, path}) {\n    let data = await googleappdata.getData();\n\n    if (data) {\n        return path.found({body: data});\n    } else {\n        return path.notfound();\n    }\n}\n\nexport async function getCurrentWeather({weather, props}) {\n    let query = props.latitude + ',' + props.longitude;\n    return await weather.current(query);\n}\n","import {set, push, when, equals} from 'cerebral/factories';\nimport {state, sequences, props} from 'cerebral/tags';\nimport * as actions from './actions';\n\nexport const init = [\n    set(props`login`, sequences`login`),\n    set(props`logout`, sequences`logout`),\n    actions.initGapi,\n    ({get}) => get(sequences`store.init`)(),\n];\n\nexport const showDroneQRScanner = [set(state`droneQRScannerActive`, true)];\nexport const hideDroneQRScanner = [set(state`droneQRScannerActive`, false)];\nexport const showSensorQRScanner = [set(state`sensorQRScannerActive`, true)];\nexport const hideSensorQRScanner = [set(state`sensorQRScannerActive`, false)];\nexport const showNavigation = [set(state`navigationOpen`, true)];\nexport const hideNavigation = [set(state`navigationOpen`, false)];\n\nexport const setSurveyData = [set(state`surveyData`, props`data`)];\nexport const setAnswer = [actions.setAnswer];\nexport const setSurveyPage = [\n    set(state`pageNum`, props`pageNum`),\n];\nexport const setPages = [set(state`pages`, props`pages`)];\nexport const goNextPage = [\n    actions.nextPage,\n    /*\n    set(props`pageNum`, state`pageNum`, num => num + 1),\n    set(state`pageNum`, props`pageNum`),\n    */\n];\nexport const goPreviousPage = [\n    actions.previousPage,\n    /*\n    set(props`pageNum`, state`pageNum`, num => num - 1),\n    set(state`pageNum`, props`pageNum`),\n    */\n];\nexport const completeSurvey = [actions.completeSurvey];\nexport const setCurrentLocation = [\n    actions.getCurrentLocation,\n    set(props`locations`, state`surveyData.locations`),\n    // Using the push factory seems to break things...\n    ({props}) => ({locations: props.locations.concat(props.currentLoc)}),\n    set(props`question`, 'locations'),\n    set(props`answer`, props`locations`),\n    actions.setAnswer,\n];\n\nexport const loadappdata = [\n    actions.loadAppData,\n    {\n        found: [],\n        notfound: [\n            actions.createSheet,\n            set(props`body`, {}),\n            set(props`body.resultsId`, props`sheet.spreadsheetId`),\n            actions.createAppData,\n        ],\n    },\n    set(state`resultsId`, props`body.resultsId`),\n];\n\n// Run _after_ login\nexport const login = [\n    loadappdata,\n    set(props`resultsId`, state`resultsId`),\n    actions.loadPastResults,\n    actions.deserializeResults,\n    set(state`pastData`, props`results`),\n    set(state`loggedin`, props`name`, name => ({name})),\n];\n// Runs _after_ logout\nexport const logout = [\n    set(state`loggedin`, false),\n    set(state`pastData`, []),\n];\n\nexport const disconnectGoogle = [actions.disconnectGapi];\n\nexport const createSheet = [actions.createSheet];\nexport const submitResults = [\n    set(state`submitting`, true),\n    when(state`loggedin`),\n    {\n        true: [],\n        false: login,\n    },\n    push(state`pastData`, state`surveyData`),\n    set(props`results`, state`pastData`),\n    actions.serializeResults,\n    set(props`resultsId`, state`resultsId`),\n    actions.uploadResults,\n    set(state`resultsUrl`, props`resultsUrl`),\n    set(state`confirmSubmitOpen`, true),\n    ({get}) => get(sequences`store.clear`)(),\n];\n\nexport const confirmSubmit = [\n    set(state`confirmSubmitOpen`, false),\n    () => window.location.reload(),\n];\n\nexport const setDebugMenuOpen = [set(state`debugMenuOpen`, props`open`)];\n\nexport const getCurrentLocationWeather = [\n    actions.getCurrentLocation,\n    set(props`latitude`, props`currentLoc.latitude`),\n    set(props`longitude`, props`currentLoc.longitude`),\n    actions.getCurrentWeather,\n];\n\nexport const autofill = [\n    equals(props`autofill`),\n    {\n        person: [set(props`answer`, state`loggedin.name`)],\n        // TODO: Combine lat/lon into one autofill?\n        latitude: [\n            actions.getCurrentLocation,\n            set(props`answer`, props`currentLoc.latitude`),\n        ],\n        longitude: [\n            actions.getCurrentLocation,\n            set(props`answer`, props`currentLoc.longitude`),\n        ],\n        // TODO: Combine weather autofills?\n        temperature: [\n            getCurrentLocationWeather,\n            set(props`answer`, props`temp_f`),\n        ],\n        windspeed: [\n            getCurrentLocationWeather,\n            set(props`answer`, props`wind_mph`),\n        ],\n        winddirection: [\n            getCurrentLocationWeather,\n            set(props`answer`, props`wind_dir`),\n        ],\n        otherwise: [],\n    },\n    actions.setAnswer,\n];\n","import {DateTime} from 'luxon';\n\nexport default {\n    name: 'general',\n    title: 'General',\n    elements: [\n        {\n            name: 'jobname',\n            title: 'Job/Project name',\n            type: 'text',\n        },\n        {\n            name: 'purpose',\n            title: 'Operation/Purpose',\n            type: 'dropdown',\n            choices: [\n                'UAV',\n                'Planting',\n                'Spraying',\n                'Tilling',\n                'Harvest'\n            ],\n            defaultValue: 'UAV' // TODO: remove default later\n        },\n        {\n            name: 'datetime',\n            title: 'Date/Time of data',\n            type: 'text',\n            inputType: 'datetime-local',\n            defaultValue: DateTime.local()\n                .toFormat(\"yyyy-MM-dd'T'HH:mm:ss\"),\n        },\n        {\n            type: 'panel',\n            elements: [\n                {\n                    // TODO: Support selecting region on a map\n                    name: 'locations',\n                    title: 'Collection locations',\n                    type: 'paneldynamic',\n                    panelCount: 1,\n                    minPanelCount: 1,\n                    panelAddText: 'Add Location',\n                    panelRemoveText: 'Remove Location',\n                    templateTitle: 'Location #{panelIndex}',\n                    templateElements: [\n                        {\n                            name: 'latitude',\n                            title: 'Latitude',\n                            type: 'text',\n                            inputType: 'number',\n                            autofill: 'latitude',\n                            isRequired: true,\n                        },\n                        {\n                            name: 'longitude',\n                            title: 'Longitude',\n                            type: 'text',\n                            inputType: 'number',\n                            autofill: 'longitude',\n                            isRequired: true,\n                        },\n                    ],\n                },\n                /*\n                {\n                    name: 'location-button',\n                    title: 'Add current location',\n                    type: 'html',\n                    cerebralbutton: 'setCurrentLocation',\n                },\n                */\n            ],\n        },\n        {\n            name: 'notes',\n            title: 'Notes or comments',\n            type: 'comment',\n        },\n    ]\n};\n","export default {\n    name: 'place',\n    title: 'Place',\n    //visibleIf: '{purpose} == \"UAV\"',\n    elements: [\n        {\n            name: 'client',\n            title: 'Grower (or Client)',\n            type: 'text',\n            placeHolder: 'Farmer Frank',\n        },\n        {\n            name: 'operation',\n            title: 'Farm (or Operation)',\n            type: 'text',\n            placeHolder: 'Frank Farms',\n        },\n        {\n            name: 'site',\n            title: 'Field (or Site)',\n            type: 'text',\n            placeHolder: 'East Field',\n        },\n        {\n            name: 'crop',\n            title: 'Crop',\n            type: 'text',\n            placeHolder: 'corn',\n        },\n        {\n            name: 'prev-crop',\n            title: 'Previous Crop',\n            type: 'text',\n            placeHolder: 'beans',\n        },\n        {\n            name: 'weather',\n            title: 'Weather',\n            type: 'panel',\n            elements: [\n                {\n                    name: 'weather-button',\n                    title: 'Get Current Weather',\n                    type: 'html',\n                    visible: false,\n                    // TODO: Implement functionality for button\n                    cerebralbutton: 'setCurrentWeather',\n                },\n                {\n                    name: 'temperature',\n                    title: 'Temperature',\n                    type: 'text',\n                    autofill: 'temperature',\n                    //inputType: 'number',\n                    placeHolder: '60 F'\n                },\n                {\n                    name: 'windspeed',\n                    title: 'Wind Speed',\n                    type: 'text',\n                    autofill: 'windspeed',\n                    //inputType: 'number',\n                    placeHolder: '10 mph',\n                },\n                {\n                    name: 'winddirection',\n                    title: 'Wind Direction',\n                    type: 'text',\n                    autofill: 'winddirection',\n                    //inputType: 'number',\n                    placeHolder: '35 deg',\n                },\n            ],\n        },\n    ],\n};\n","export default {\n    name: 'planting',\n    title: 'NYI',\n    visibleIf: '!({purpose} == \"UAV\")',\n    elements: [\n        {\n            name: 'nyi',\n            type: 'html',\n            html: 'Not yet implemented'\n        }\n    ]\n};\n","export default {\n    name: 'b4ufly',\n    title: 'B4UFLY Status',\n    visible: false, // Get rid of B4UFLY page for now\n    elements: [\n        {\n            name: 'b4ufly-status',\n            title: 'Status',\n            type: 'dropdown',\n            isRequired: true,\n            choices: [\n                'proceed with caution',\n                'flying in controlled airspace (class B/C/D/E)',\n                'other',\n            ],\n        },\n        {\n            name: 'b4ufly-extra',\n            title: '',\n            type: 'panel',\n            visibleIf: '{b4ufly-status} == \"flying in controlled airspace (class B/C/D/E)\" or {b4ufly-status} == \"other\"',\n            elements: [\n                {\n                    name: 'b4ufly-airport-operator',\n                    title: 'Airport Operator Contact',\n                    type: 'text',\n                    requiredIf: '{b4ufly-status} == \"flying in controlled airspace (class B/C/D/E)\"',\n                },\n                {\n                    name: 'b4ufly-control-tower',\n                    title: 'Control Tower Contact',\n                    type: 'text',\n                    requiredIf: '{b4ufly-status} == \"flying in controlled airspace (class B/C/D/E)\"',\n                },\n                {\n                    name: 'b4ufly-prior-authorization',\n                    title: 'Prior Authorization',\n                    type: 'text',\n                    requiredIf: '{b4ufly-status} == \"flying in controlled airspace (class B/C/D/E)\"',\n                },\n            ],\n        },\n        {\n            // TODO: What the heck even is this?\n            name: 'b4ufly-options',\n            title: 'Options',\n            type: 'checkbox',\n            isRequired: true,\n            choices: [\n                'checked NOTAMS',\n                'checked flight restrictions',\n                'checked local restrictions',\n                'checked upcoming restrictions',\n                'checked national parks',\n            ],\n        },\n        {\n            name: 'b4ufly-certificate',\n            title: 'COW or COA #',\n            type: 'text',\n        },\n    ],\n};\n","// TODO: Get these from sheets\nconst drones = [\n    {\n        make: 'Test',\n        model: 'testtest',\n        type: 'Fixed wing',\n    },\n];\n\nexport default {\n    name: 'uav-drone',\n    title: 'Drone Info',\n    visibleIf: '{purpose} == \"UAV\"',\n    elements: [\n        {\n            // TODO: make required for submission only\n            name: 'drone-screenshots',\n            title: 'Flight Planning Screenshots',\n            type: 'panel',\n            elements: [\n                {\n                    name: 'drone-flight-planning',\n                    title: 'Screenshot of Flight Planning',\n                    type: 'file',\n                    allowMultiple: false,\n                },\n                {\n                    name: 'drone-advanced-flight-planning',\n                    title: 'Screenshot of Advanced Flight Planning',\n                    type: 'file',\n                    allowMultiple: false,\n                },\n            ],\n        },\n        {\n            name: 'drone-qr',\n            title: 'Scan drone QR code',\n            type: 'html',\n            cerebralbutton: 'showDroneQRScanner',\n            visible: false,\n        },\n        {\n            name: 'uav-drone-type',\n            title: 'Type',\n            type: 'dropdown',\n            isRequired: true,\n            defaultValue: 'Fixed wing',\n            hasOther: true,\n            choices: [\n                'Fixed wing',\n                'Multi-rotor',\n                'Helicopter',\n            ],\n        },\n        {\n            name: 'uav-drone',\n            title: 'Drone',\n            type: 'dropdown',\n            hideIfChoicesEmpty: true,\n            choices: drones.map((e, i) => ({\n                text: e.make + ' ' + e.model,\n                value: e.make + ' ' + e.model,\n                //value: i,\n                visibleIf: `{uav-drone-type} == \"${e.type}\"`,\n            })),\n        },\n        {\n            name: 'uav-drone-make',\n            title: 'Make',\n            type: 'text',\n            enableIf: '{uav-drone} empty'\n        },\n        {\n            name: 'uav-drone-model',\n            title: 'Model',\n            type: 'text',\n            enableIf: '{uav-drone} empty'\n        },\n    ]\n};\n","export default {\n    name: 'uav-operator',\n    title: 'UAV Operator',\n    visibleIf: '{purpose} == \"UAV\"',\n    elements: [\n        {\n            name: 'remote-pics',\n            title: 'Remote Pilot in Command (PIC)',\n            description: 'remote PIC - A person who holds a remote pilot certificate with an sUAS rating and has the final authority and responsibility for the operation and safety of an sUAS operation conducted under part 107.',\n            type: 'paneldynamic',\n            panelCount: 1,\n            minPanelCount: 1,\n            panelAddText: 'Add Remote PIC',\n            panelRemoveText: 'Remove Remote PIC',\n            templateTitle: 'Remote PIC #{panelIndex}',\n            templateElements: [\n                {\n                    name: 'remote-pic-name',\n                    title: 'Name',\n                    type: 'text',\n                    autofill: 'person',\n                    isRequired: true,\n                    placeHolder: 'Rusty Shackleford'\n                },\n                {\n                    name: 'remote-pic-certificate',\n                    title: 'Certificate Number or equivalent',\n                    type: 'text',\n                    inputType: 'number',\n                    isRequired: true,\n                    placeHolder: '1234567',\n                    validators: [\n                        {\n                            type: 'regex',\n                            regex: /^[0-9]{7}$/,\n                            text: 'Invalid license number'\n                        }\n                    ]\n                },\n\n            ],\n        },\n        {\n            name: 'observer',\n            title: 'Visual Observer (VO)',\n            description: 'VO - A person acting as a flightcrew member who assists the small UA remote PIC and the person manipulating the controls to see and avoid other air traffic or objects aloft or on the ground.',\n            type: 'paneldynamic',\n            panelCount: 0,\n            panelAddText: 'Add VO',\n            panelRemoveText: 'Remove VO',\n            templateTitle: 'VO #{panelIndex}',\n            templateElements: [\n                {\n                    name: 'observer-name',\n                    title: 'Name',\n                    type: 'text',\n                    isRequired: true,\n                    placeHolder: 'John Doe'\n                },\n            ],\n        },\n    ]\n};\n","// TODO: Get these from sheets\nconst sensors = [\n    {\n        make: 'Sony',\n        model: 'A6000',\n        type: 'RGB',\n    },\n    {\n        make: 'Parrot',\n        model: 'Sequoia',\n        type: 'Multispectral',\n    },\n];\n\nexport default {\n    name: 'uav-sensors',\n    title: 'Sensors',\n    visibleIf: '{purpose} == \"UAV\"',\n    elements: [\n        {\n            name: 'sensor-qr',\n            type: 'html',\n            cerebralbutton: 'showSensorQRScanner',\n            visible: false,\n        },\n        {\n            name: 'sensors',\n            title: 'Sensors',\n            type: 'paneldynamic',\n            panelCount: 0,\n            panelAddText: 'Add Sensor',\n            panelRemoveText: 'Remove Sensor',\n            templateTitle: 'Sensor #{panelIndex}',\n            templateElements: [\n                {\n                    name: 'uav-sensor-type',\n                    valueName: 'type',\n                    title: 'Type',\n                    type: 'dropdown',\n                    isRequired: true,\n                    hasOther: true,\n                    otherText: 'Add new type',\n                    otherErrorText: 'Please enter the new type',\n                    choices: [\n                        'RGB',\n                        'Multispectral',\n                        'Hyperspectral',\n                        'LiDAR',\n                        'Thermal',\n                    ],\n                },\n                {\n                    name: 'uav-sensor-makemodel',\n                    valueName: 'sensor',\n                    title: 'Make and Model',\n                    type: 'dropdown',\n                    hideIfChoicesEmpty: false,\n                    isRequired: true,\n                    hasOther: true,\n                    otherText: 'Add new make and model',\n                    otherErrorText:\n                        'Please enter the new make and model',\n                    choices: sensors.map((e, i) => ({\n                        text: e.make + ' ' + e.model,\n                        value: e.make + ' ' + e.model,\n                        //value: i,\n                        visibleIf: `{panel.type} == \"${e.type}\"`,\n                    })),\n                },\n            ],\n        },\n    ],\n};\n","import * as pages0 from './pages/general.js'; import * as pages1 from './pages/place.js'; import * as pages2 from './pages/planting.js'; import * as pages3 from './pages/uav/b4ufly.js'; import * as pages4 from './pages/uav/drone.js'; import * as pages5 from './pages/uav/operator.js'; import * as pages6 from './pages/uav/sensors.js'; let pages = [pages0, pages1, pages2, pages3, pages4, pages5, pages6];\n\n// Load the default export of all pages\nexport default pages.map(page => page.default);\n","/* eslint import/no-webpack-loader-syntax: off */\nimport pages from '!import-glob!./pages-loader';\n\n// Add a footer to each page\npages.forEach(page => page.elements.push({\n    type: 'html',\n    html: '* Indicates required field',\n}));\n\nexport default pages;\n","//import { set } from 'cerebral/operators';\n//import { state } from 'cerebral/tags';\n\nimport localstore from './modules/localstore';\n\nimport * as providers from './providers';\nimport * as sequences from './sequences';\nimport * as errors from './errors';\n\n// TODO: Should this be here??\nimport pages from '../pages';\n\n// Parts of state to keep in localstorage\nconst store = localstore(['pageNum', 'surveyData']);\n\nexport default {\n    sequences,\n    state: {\n        loggedin: null,\n        resultsId: null,\n        submitting: false,\n        navigationOpen: true,\n        confirmSubmitOpen: false,\n        droneQRScannerActive: false,\n        sensorQRScannerActive: false,\n        surveyData: null,\n        pastData: [],\n        pages: [],\n        pageNum: 0,\n        questions: {\n            showNavigationButtons: false,\n            goNextPageAutomatic: true,\n            clearInvisibleValues: 'onHidden',\n            checkErrorsMode: 'onValueChanged',\n            pages,\n        },\n    },\n    catch: [\n        // TODO: Pop up toast or something about giving permission?\n        [errors.GetLocationError, ({error}) => console.error(error)],\n        [Error, ({error}) => console.error(error)],\n    ],\n    providers,\n    modules: {\n        store,\n        //storage,\n    },\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from 'cerebral';\nimport {Container} from '@cerebral/react';\nimport Devtools from 'cerebral/devtools';\n\nimport AppComponent from './App';\nimport main from './main';\n\nconst app = App(main, {\n    devtools: process.env.NODE_ENV === 'production' ?\n        null : Devtools({host: 'localhost:8000', reconnect: true}),\n    throwToConsole: true,\n    noRethrow: false,\n    returnSequencePromise: true,\n});\n\n// Run init sequence\napp.on('initialized:model', () => console.log('sadsad') && app.getSequence('init')());\n\nReactDOM.render(\n    <Container app={app}>\n        <AppComponent />\n    </Container>,\ndocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nif (process.env.NODE_ENV === 'production') {\n    serviceWorker.register();\n} else {\n    serviceWorker.unregister();\n}\n"],"sourceRoot":""}